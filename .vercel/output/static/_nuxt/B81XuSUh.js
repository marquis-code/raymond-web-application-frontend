import{G as r}from"./Do8tO0gS.js";import{r as o,o as i}from"./B5Rw5mES.js";const p={$_fetch_products(){return r.get("/products")},$_fetch_featured_products(t){return r.get(`/products/featured?limit=${t.limit}`)},$_get_new_products(t){return r.get(`/products/new?limit=${t.limit}`)},$_get_new_best_seller_products(t){return r.get(`/products/bestsellers?limit=${t.limit}`)},$_search_product(t){return r.get(`/products/search?page=${t.page}&limit=${t.limit}&sort=${t.sort}&order=${t.order}&q=${t.search}`)},$_get_product_by_category(t){return r.get(`/products/category/${t}`)},$_delete_product(t){return r.delete(`/products/${t}`)},$_get_product_by_id(t){return r.get(`/products/${t}`)},$_get_categories(){return r.get("/products/categories")}};o({page:1,limit:100,sort:"",order:"",search:""});const f=()=>{const t=o([]),c=o(!1),s=o(null),u=o(0),a=o(0),l=async()=>{var d,n,_;c.value=!0,s.value=null;try{const e=await p.$_fetch_products();return console.log(e,"res heeeeeeeeee"),t.value=(d=e==null?void 0:e.data)==null?void 0:d.data,e.data.meta&&(u.value=e.data.meta.total||0,a.value=e.data.meta.totalPages||0),e.data}catch(e){throw s.value=((_=(n=e.response)==null?void 0:n.data)==null?void 0:_.message)||"Failed to fetch products",s.value}finally{c.value=!1}};return i(()=>{l()}),{products:t,loading:c,error:s,totalProducts:u,totalPages:a,fetchProducts:l}};export{p,f as u};
