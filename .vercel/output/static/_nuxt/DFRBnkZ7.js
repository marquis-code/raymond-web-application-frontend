import{_ as at}from"./DxRkeBKl.js";import{r as x,o as ve,d as ot,C as lt,s as J,q as nt,a as it,c as p,g as e,u as s,h as d,w as W,t as v,B as ce,n as _,G as Fe,l as N,j as C,F as Ue,k as De,H as dt,I as ut,e as u,x as me,m as y,p as w,i as pe,v as ct,_ as mt}from"./YPhWyupa.js";import{u as pt}from"./BFuQWF08.js";import{u as gt,S as ft,C as bt,U as Ve,T as qe}from"./CsuHx62G.js";import{u as vt,S as yt}from"./CtSHnHru.js";import{u as xt,a as ht}from"./2gKxxUJO.js";import{G as A,u as wt}from"./DV4RNhg2.js";import{s as kt}from"./x_rD_Ya3.js";import{c as M,a as ge,L as _t}from"./qWfVCmuZ.js";/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=M("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=M("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=M("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=M("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=M("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=M("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=M("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=M("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=M("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mt="data:image/svg+xml,%3csvg%20version='1.1'%20id='Layer_1'%20xmlns:x='ns_extend;'%20xmlns:i='ns_ai;'%20xmlns:graph='ns_graphs;'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20176%20144.7'%20style='enable-background:new%200%200%20176%20144.7;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23009A46;}%20.st1{fill:%23FF5805;}%20.st2{fill:%23F5AFCB;}%20.st3{fill:%23FF9B00;}%20%3c/style%3e%3cmetadata%3e%3csfw%20xmlns='ns_sfw;'%3e%3cslices%3e%3c/slices%3e%3csliceSourceBounds%20bottomLeftOrigin='true'%20height='144.7'%20width='176'%20x='-258.1'%20y='-272.6'%3e%3c/sliceSourceBounds%3e%3c/sfw%3e%3c/metadata%3e%3cg%3e%3cpath%20class='st0'%20d='M0,31.6c0-9.4,2.7-17.4,8.5-23.1l10,10C7.4,29.6,17.1,64.1,48.8,95.8s66.2,41.4,77.3,30.3l10,10%20c-18.8,18.8-61.5,5.4-97.3-30.3C14,80.9,0,52.8,0,31.6z'%3e%3c/path%3e%3cpath%20class='st1'%20d='M63.1,144.7c-9.4,0-17.4-2.7-23.1-8.5l10-10c11.1,11.1,45.6,1.4,77.3-30.3s41.4-66.2,30.3-77.3l10-10%20c18.8,18.8,5.4,61.5-30.3,97.3C112.4,130.7,84.2,144.7,63.1,144.7z'%3e%3c/path%3e%3cpath%20class='st2'%20d='M140.5,91.6c-6.1-17.5-18.5-36.2-34.9-52.6C69.8,3.2,27.1-10.1,8.3,8.6l0,0C7,10,8.2,13.3,10.9,16%20s6.1,3.9,7.4,2.6c11.1-11.1,45.6-1.4,77.3,30.3c15,15,26.2,31.8,31.6,47.3c4.7,13.6,4.3,24.6-1.2,30.1l0,0%20c-1.3,1.3-0.2,4.6,2.6,7.4s6.1,3.9,7.4,2.6C145.6,126.6,147.2,110.7,140.5,91.6z'%3e%3c/path%3e%3cpath%20class='st3'%20d='M167.5,8.6C157.9-1,142-2.6,122.9,4c-17.5,6.1-36.2,18.5-52.6,34.9c-35.8,35.8-49.1,78.5-30.3,97.3l0,0%20c1.3,1.3,4.7,0.2,7.4-2.6s3.9-6.1,2.6-7.4c-11.1-11.1-1.4-45.6,30.3-77.3c15-15,31.8-26.2,47.2-31.6c13.6-4.7,24.6-4.3,30.1,1.2%20l0,0c1.3,1.3,4.6,0.2,7.4-2.6S168.9,10,167.5,8.6z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Be=""+new URL("card1.BcZ4gsJl.svg",import.meta.url).href,Le=""+new URL("card2.CWQKE2QD.svg",import.meta.url).href,Oe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-140%20780%20780'%20enable-background='new%200%200%20780%20500'%20version='1.1'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M40,0h700c22.092,0,40,17.909,40,40v420c0,22.092-17.908,40-40,40H40c-22.091,0-40-17.908-40-40V40%20C0,17.909,17.909,0,40,0z'%20fill='%230E4595'/%3e%3cpath%20d='m293.2%20348.73l33.361-195.76h53.36l-33.385%20195.76h-53.336zm246.11-191.54c-10.57-3.966-27.137-8.222-47.822-8.222-52.725%200-89.865%2026.55-90.18%2064.603-0.299%2028.13%2026.514%2043.822%2046.752%2053.186%2020.771%209.595%2027.752%2015.714%2027.654%2024.283-0.131%2013.121-16.586%2019.116-31.922%2019.116-21.357%200-32.703-2.967-50.227-10.276l-6.876-3.11-7.489%2043.823c12.463%205.464%2035.51%2010.198%2059.438%2010.443%2056.09%200%2092.5-26.246%2092.916-66.882%200.199-22.269-14.016-39.216-44.801-53.188-18.65-9.055-30.072-15.099-29.951-24.268%200-8.137%209.668-16.839%2030.557-16.839%2017.449-0.27%2030.09%203.535%2039.938%207.5l4.781%202.26%207.232-42.429m137.31-4.223h-41.232c-12.773%200-22.332%203.487-27.941%2016.234l-79.244%20179.4h56.031s9.16-24.123%2011.232-29.418c6.125%200%2060.555%200.084%2068.338%200.084%201.596%206.853%206.49%2029.334%206.49%2029.334h49.514l-43.188-195.64zm-65.418%20126.41c4.412-11.279%2021.26-54.723%2021.26-54.723-0.316%200.522%204.379-11.334%207.074-18.684l3.605%2016.879s10.219%2046.729%2012.354%2056.528h-44.293zm-363.3-126.41l-52.24%20133.5-5.567-27.13c-9.725-31.273-40.025-65.155-73.898-82.118l47.766%20171.2%2056.456-0.064%2084.004-195.39h-56.521'%20fill='%23ffffff'/%3e%3cpath%20d='m146.92%20152.96h-86.041l-0.681%204.073c66.938%2016.204%20111.23%2055.363%20129.62%20102.41l-18.71-89.96c-3.23-12.395-12.597-16.094-24.186-16.527'%20fill='%23F2AE14'/%3e%3c/svg%3e",F={$_create_shipping_config(l){return A.post("/shipping-tax/shipping",l)},$_create_tax_config(l){return A.post("/shipping-tax/tax",l)},$_get_all_shipping_configs(){return A.get("/shipping-tax/shipping")},$_get_all_tax_configs(){return A.get("/shipping-tax/tax")},$_update_shipping_config(l,n){return A.patch(`/shipping-tax/shipping/${l}`,n)},$_update_tax_config(l,n){return A.patch(`/shipping-tax/tax/${l}`,n)},$_delete_shipping_config(l){return A.delete(`/shipping-tax/shipping/${l}`)},$_delete_tax_config(l){return A.delete(`/shipping-tax/tax/${l}`)}},Pt=()=>{const l=x(null),n=async()=>{try{return(await F.$_get_all_tax_configs()).data}catch(g){throw l.value=g.message||"Failed to fetch tax configs",l.value}},L=async g=>{try{return(await F.$_create_tax_config({...g})).data}catch(c){throw l.value=c.message||"Failed to create tax config",l.value}},O=async(g,c)=>{try{return(await F.$_update_tax_config(g,{countryCode:c.countryCode||"",countryName:c.countryName||"",vatRate:c.vatRate||0,isActive:c.isActive!==void 0?c.isActive:!0})).data}catch(j){throw l.value=j.message||"Failed to update tax config",l.value}},P=async g=>{try{return(await F.$_delete_tax_config(g)).data}catch(c){throw l.value=c.message||"Failed to delete tax config",l.value}};return ve(()=>{n()}),{error:l,fetchTaxConfigs:n,createTaxConfig:L,updateTaxConfig:O,deleteTaxConfig:P}},jt=()=>{const l=x(null),n=async()=>{try{return(await F.$_get_all_shipping_configs()).data}catch(g){throw l.value=g.message||"Failed to fetch shipping configs",l.value}},L=async g=>{try{return(await F.$_create_shipping_config({...g})).data}catch(c){throw l.value=c.message||"Failed to create shipping config",l.value}},O=async(g,c)=>{try{return(await F.$_update_shipping_config(g,{countryCode:c.countryCode||"",countryName:c.countryName||"",shippingRate:c.shippingRate||0,isActive:c.isActive!==void 0?c.isActive:!0})).data}catch(j){throw l.value=j.message||"Failed to update shipping config",l.value}},P=async g=>{try{return(await F.$_delete_shipping_config(g)).data}catch(c){throw l.value=c.message||"Failed to delete shipping config",l.value}};return ve(()=>{n()}),{error:l,fetchShippingConfigs:n,createShippingConfig:L,updateShippingConfig:O,deleteShippingConfig:P}},$t={class:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100"},Et={key:0,class:"container mx-auto px-4 py-16 text-center"},At={class:"max-w-md mx-auto bg-white rounded-xl shadow-lg p-8 border border-gray-100 transform transition-all duration-700 hover:shadow-xl"},Ft={class:"mb-6 text-gray-300"},Ut={class:"mx-auto w-24 h-24 rounded-full bg-gray-50 flex items-center justify-center animate-pulse-slow"},Dt={class:"flex items-center"},Vt={key:1,class:"container mx-auto px-4 py-16"},qt={class:"max-w-md mx-auto bg-white rounded-xl shadow-lg p-8 border border-gray-100 animate-scale-in"},Rt={class:"mb-6 text-green-500 flex justify-center"},zt={class:"w-20 h-20 rounded-full bg-green-50 flex items-center justify-center animate-bounce-once"},Bt={class:"flex flex-col space-y-4 animate-fade-in delay-600"},Lt={class:"p-4 bg-gray-50 rounded-lg border border-gray-100"},Ot={class:"flex justify-between mb-2"},Yt={class:"font-medium"},Gt={class:"flex justify-between"},Qt={class:"font-medium"},Ht={key:2,class:"container mx-auto px-4 py-8"},Jt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 backdrop-blur-sm"},Wt={class:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-scale-in"},Xt={key:0},Kt={class:"flex flex-col gap-4"},Zt={key:1},es={class:"flex justify-between items-center mb-6"},ts={class:"form-group"},ss={class:"form-group"},rs=["disabled"],as={class:"text-center mt-4"},os={class:"text-gray-600"},ls={key:2},ns={class:"flex justify-between items-center mb-6"},is={class:"grid grid-cols-2 gap-4"},ds={class:"form-group"},us={class:"form-group"},cs={class:"form-group"},ms={class:"form-group"},ps={class:"form-group"},gs=["disabled"],fs={class:"text-center mt-4"},bs={class:"text-gray-600"},vs={class:"max-w-4xl mx-auto mb-12 animate-fade-in"},ys={class:"flex items-center justify-between"},xs={class:"flex-1 h-1 mx-4 relative"},hs={class:"flex-1 h-1 mx-4 relative"},ws={class:"grid lg:grid-cols-3 gap-8"},ks={class:"lg:col-span-2"},_s={key:0,class:"bg-white p-8 rounded-xl shadow-md border border-gray-100 animate-fade-in"},Cs={class:"text-xl font-semibold mb-6 flex items-center"},Ns={class:"form-group"},Ss={class:"form-group"},Ts={class:"form-group"},Is={class:"form-group"},Ms={class:"form-group md:col-span-2"},Ps={class:"form-group"},js={class:"form-group"},$s={class:"form-group"},Es={class:"form-group"},As=["value"],Fs={class:"md:col-span-2 mt-4"},Us={type:"submit",class:"w-full py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-all duration-300 transform hover:scale-105 flex items-center justify-center"},Ds={key:1,class:"bg-white p-8 rounded-xl shadow-md border border-gray-100 animate-fade-in"},Vs={class:"text-xl font-semibold mb-6 flex items-center"},qs={class:"space-y-4 mb-8"},Rs={class:"flex items-center"},zs={key:0,class:"w-3 h-3 rounded-full bg-black animate-scale-in"},Bs={class:"flex-1"},Ls={class:"flex justify-between"},Os={class:"font-medium"},Ys={class:"flex items-center"},Gs={key:0,class:"w-3 h-3 rounded-full bg-black animate-scale-in"},Qs={class:"flex-1"},Hs={class:"flex justify-between"},Js={class:"font-medium"},Ws={class:"flex items-center"},Xs={key:0,class:"w-3 h-3 rounded-full bg-black animate-scale-in"},Ks={class:"flex gap-4"},Zs={key:2,class:"bg-white p-8 rounded-xl shadow-md border border-gray-100 animate-fade-in"},er={class:"text-xl font-semibold mb-6 flex items-center"},tr={class:"space-y-4 mb-8"},sr={class:"flex items-center"},rr={key:0,class:"w-3 h-3 rounded-full bg-black animate-scale-in"},ar={class:"w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center"},or={class:"flex items-center"},lr={key:0,class:"w-3 h-3 rounded-full bg-black animate-scale-in"},nr={class:"flex space-x-3"},ir={class:"w-8 h-6 bg-gray-100 rounded flex items-center justify-center"},dr={class:"w-8 h-6 bg-gray-100 rounded flex items-center justify-center"},ur={class:"w-8 h-6 bg-gray-100 rounded flex items-center justify-center"},cr={key:0,class:"border-t border-gray-200 pt-6 mt-6"},mr={class:"space-y-4"},pr={class:"form-group"},gr={class:"relative"},fr={class:"form-group"},br={class:"grid grid-cols-2 gap-4"},vr={class:"form-group"},yr={class:"form-group"},xr={class:"relative"},hr={class:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-help group"},wr={class:"flex gap-4 mt-6"},kr=["disabled"],_r={class:"lg:col-span-1"},Cr={class:"bg-white p-6 rounded-xl shadow-md border border-gray-100 sticky top-6 animate-fade-in"},Nr={class:"text-xl font-semibold mb-4 flex items-center"},Sr={key:0,class:"space-y-4 mb-6 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar"},Tr={class:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 relative"},Ir=["src","alt"],Mr={class:"flex-1"},Pr={class:"font-medium text-sm"},jr={class:"text-sm text-gray-600"},$r={class:"flex items-center mt-2"},Er=["onClick"],Ar={class:"mx-2 text-sm font-medium"},Fr=["onClick"],Ur=["onClick"],Dr={class:"text-right"},Vr={class:"font-medium"},qr={class:"border-t border-gray-200 pt-4 space-y-3"},Rr={class:"flex justify-between text-sm"},zr={class:"flex justify-between text-sm"},Br={class:"flex justify-between text-sm"},Lr={key:0,class:"text-xs text-gray-500 bg-gray-50 p-2 rounded"},Or={class:"flex justify-between font-bold pt-3 border-t border-gray-200 mt-3"},Yr={class:"text-lg"},Gr={class:"mt-6 pt-4 border-t border-gray-200"},Qr={class:"flex items-center text-sm text-gray-600 mb-4"},Hr={class:"flex gap-2"},Jr={class:"w-10 h-6 bg-gray-100 rounded flex items-center justify-center"},Wr={class:"w-10 h-6 bg-gray-100 rounded flex items-center justify-center"},Xr={class:"w-10 h-6 bg-gray-100 rounded flex items-center justify-center"},Kr={key:1,class:"mt-6 pt-4 border-t border-gray-200"},Zr={class:"bg-rose-50 p-3 rounded-lg flex items-center"},ea={class:"text-lg font-bold text-rose-600"},ta=ot({__name:"checkout",setup(l){const{showToast:n}=dt(),{fetchShippingConfigs:L}=jt(),{fetchTaxConfigs:O}=Pt(),{cart:P,removeFromCart:g,updateCartItemQuantity:c}=pt(),{signup:j}=gt(),{login:ye}=vt(),{isLoggedIn:xe,user:Y}=wt(),{setItem:X,getItem:K,removeItem:he}=ht(),{checkoutStep:ee,checkoutSummary:f,deliveryDetails:o,deliveryMethod:k,paymentMethod:S,cardDetails:$,isProcessing:te,orderComplete:we,orderId:Ye,setDeliveryMethod:se,setPaymentMethod:ke,processPayment:_e,persistDeliveryDetails:m}=xt(),re=nt(),ae=ut(),oe=x([]),Ce=x([]),U=x(null),z=x(0),G=x(0),Ne=x(!1),i=x(1),D=x(!1),E=x("check"),Q=x(!1),H=x(!1),Se=x(15*60),V=x(Se.value);let q=null;const Ge=x(2.5),Z=x(1),le=x(3),b=x({firstName:"",lastName:"",email:"",password:"",phone:"",role:"customer"}),B=x({email:"",password:""}),Qe=lt(()=>oe.value.filter(a=>a.isActive)),He=async()=>{try{Ne.value=!0;const[a,t]=await Promise.all([L(),O()]);oe.value=a||[],Ce.value=t||[],o.country&&Te()}catch(a){console.error("Failed to load configurations:",a),n&&n({title:"Configuration Error",message:"Failed to load shipping and tax configurations. Please refresh the page or contact support.",toastType:"error",duration:5e3})}finally{Ne.value=!1}},Te=()=>{const a=o.country,t=oe.value.find(T=>T.countryCode===a&&T.isActive),h=Ce.value.find(T=>T.countryCode===a&&T.isActive);t?(U.value=t,z.value=t.shippingRate||0):(U.value=null,z.value=0),h?G.value=h.vatRate||0:G.value=0,m&&m()},ne=()=>k.value==="pickup"?0:k.value==="express"?z.value*Ge.value:z.value,ie=()=>f.value?(f.value.subtotal||0)*G.value/100:0,de=()=>{if(!f.value)return 0;const a=f.value.subtotal||0,t=ne(),h=ie();return a+t+h},ue=()=>{const a={...ae.query};i.value>Z.value?a.step=i.value.toString():delete a.step,re.replace({query:a})},Ie=()=>{i.value<le.value&&(i.value++,ue())},Me=()=>{i.value>Z.value&&(i.value--,ue())},Je=()=>{const a=ae.query.step;if(a&&!isNaN(Number(a))){const t=Number(a);t>=Z.value&&t<=le.value&&(i.value=t)}},Pe=()=>{const a={...ae.query};delete a.step,re.replace({query:a})},We=async()=>{try{f.value&&(f.value.total=de(),f.value.shipping=ne(),f.value.tax=ie(),U.value&&(f.value.country={code:U.value.countryCode,name:U.value.countryName})),_e&&await _e(),Pe(),n&&n({title:"Order Placed",message:"Your order has been successfully placed!",toastType:"success",duration:5e3})}catch(a){console.error("Payment processing failed:",a),n&&n({title:"Payment Failed",message:"There was an error processing your payment. Please try again.",toastType:"error",duration:5e3})}},Xe=()=>{D.value=!1,X&&X("checkout-guest-mode","true")},je=()=>{D.value=!1,E.value="check"},Ke=async()=>{try{Q.value=!0;const a={firstName:b.value.firstName,lastName:b.value.lastName,email:b.value.email,password:b.value.password,phone:b.value.phone,role:b.value.role};j&&await j(a)&&(D.value=!1,o&&(o.firstName=b.value.firstName,o.lastName=b.value.lastName,o.email=b.value.email,o.phone=b.value.phone||""),m&&m(),n&&n({title:"Account Created",message:"Your account has been created successfully!",toastType:"success",duration:3e3}))}catch(a){console.error("Signup failed:",a),n&&n({title:"Signup Failed",message:"There was an error creating your account. Please try again.",toastType:"error",duration:5e3})}finally{Q.value=!1}},Ze=async()=>{try{H.value=!0;const a={email:B.value.email,password:B.value.password};if(ye&&await ye(a)){D.value=!1;try{const h=JSON.parse(localStorage.getItem("user-data")||"{}");h&&o&&(o.firstName=h.firstName||"",o.lastName=h.lastName||"",o.email=h.email||"",o.phone=h.phone||"",m&&m())}catch(h){console.warn("Failed to parse user data from localStorage:",h)}n&&n({title:"Signed In",message:"You have been signed in successfully!",toastType:"success",duration:3e3})}}catch(a){console.error("Signin failed:",a),n&&n({title:"Sign In Failed",message:"There was an error signing in. Please check your credentials and try again.",toastType:"error",duration:5e3})}finally{H.value=!1}},I=a=>typeof a!="number"||isNaN(a)?"0.00":a.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),et=a=>{if(typeof a!="number"||isNaN(a)||a<0)return"00:00";const t=Math.floor(a/60),h=a%60;return`${t.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`},tt=()=>Math.floor(Math.random()*9e5+1e5).toString(),$e=(a,t)=>{c&&typeof a=="number"&&typeof t=="number"&&t>0&&c(a,t)},st=a=>{g&&typeof a=="number"&&(g(a),n&&n({title:"Item Removed",message:"Item has been removed from your cart",toastType:"info",duration:3e3}))},R=a=>{const t=a.target;t&&(t.src="/placeholder.svg?height=100&width=100")},Ee=()=>{const a=K?K("checkout-guest-mode")==="true":!1;!xe.value&&!a&&(D.value=!0)},rt=()=>{const a=K?K("checkout-timer"):null;a&&!isNaN(parseInt(a))&&(V.value=parseInt(a)),q=kt(()=>{V.value>0?(V.value--,X&&X("checkout-timer",V.value.toString())):(q&&clearInterval(q),n&&n({title:"Session Expired",message:"Your checkout session has expired. Please try again.",toastType:"warning",duration:5e3}))},1e3)};return J(P,()=>{f.value&&P.value&&(f.value.items=P.value,f.value.subtotal=P.value.reduce((a,t)=>{const h=t.price||0,T=t.quantity||0;return a+h*T},0))},{deep:!0}),J(xe,a=>{a?(D.value=!1,Y.value&&o&&(o.firstName=Y.value.firstName||"",o.lastName=Y.value.lastName||"",o.email=Y.value.email||"",o.phone=Y.value.phone||"",m&&m())):Ee()}),J(we,a=>{a&&(q&&clearInterval(q),V.value=Se.value,he&&he("checkout-timer"),Pe(),n&&n({title:"Order Complete",message:"Thank you for your purchase!",toastType:"success",duration:5e3}))}),J(i,a=>{ee&&(ee.value=a)}),J(ee,a=>{typeof a=="number"&&a>=Z.value&&a<=le.value&&(i.value=a,ue())}),ve(async()=>{await He(),Je(),Ee(),rt(),(!f.value||f.value.items&&f.value.items.length===0)&&re.push("/")}),it(()=>{q&&clearInterval(q)}),(a,t)=>{var T;const h=at;return u(),p("div",$t,[t[102]||(t[102]=e("div",{class:"fixed w-full h-full pointer-events-none overflow-hidden"},[e("div",{class:"absolute top-20 left-10 w-32 h-32 bg-rose-500/10 rounded-full mix-blend-screen blur-xl animate-float-slow"}),e("div",{class:"absolute bottom-40 right-20 w-40 h-40 bg-amber-500/10 rounded-full mix-blend-screen blur-xl animate-float-medium"}),e("div",{class:"absolute top-1/3 right-1/4 w-24 h-24 bg-emerald-500/10 rounded-full mix-blend-screen blur-xl animate-float-fast"})],-1)),s(f)?s(we)?(u(),p("div",Vt,[e("div",qt,[e("div",Rt,[e("div",zt,[d(s(bt),{class:"w-10 h-10"})])]),t[43]||(t[43]=e("h2",{class:"text-2xl font-bold mb-4 text-center animate-fade-in delay-300"},"Thank you for your order!",-1)),t[44]||(t[44]=e("p",{class:"text-gray-600 mb-2 text-center animate-fade-in delay-400"},"Your order has been successfully placed.",-1)),t[45]||(t[45]=e("p",{class:"text-gray-600 mb-6 text-center animate-fade-in delay-500"},"We've sent a confirmation email with your order details.",-1)),e("div",Bt,[e("div",Lt,[e("div",Ot,[t[40]||(t[40]=e("span",{class:"text-gray-600"},"Order Number:",-1)),e("span",Yt,"#"+v(s(Ye)||tt()),1)]),e("div",Gt,[t[41]||(t[41]=e("span",{class:"text-gray-600"},"Total Amount:",-1)),e("span",Qt,"$"+v(I(de())),1)])]),d(h,{to:"/",class:"block w-full px-6 py-3 bg-black text-white rounded-lg text-center hover:bg-gray-800 transition-all duration-300 transform hover:scale-105"},{default:W(()=>t[42]||(t[42]=[C(" Continue Shopping ")])),_:1,__:[42]})])])])):(u(),p("div",Ht,[t[101]||(t[101]=e("h1",{class:"text-2xl font-bold mb-8 text-center md:text-left animate-fade-in"},"Checkout",-1)),d(ce,{name:"fade"},{default:W(()=>[D.value?(u(),p("div",Jt,[e("div",Wt,[E.value==="check"?(u(),p("div",Xt,[t[46]||(t[46]=e("h2",{class:"text-2xl font-bold mb-4"},"Create an Account?",-1)),t[47]||(t[47]=e("p",{class:"text-gray-600 mb-6"},"Creating an account helps you track your orders and get updates on your purchases.",-1)),e("div",Kt,[e("button",{onClick:t[0]||(t[0]=r=>E.value="signin"),class:"flex-1 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-all duration-300 transform hover:scale-105"}," Sign In "),e("button",{onClick:t[1]||(t[1]=r=>E.value="signup"),class:"flex-1 px-6 py-3 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition-all duration-300 transform hover:scale-105"}," Create Account "),e("button",{onClick:Xe,class:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-300"}," Continue as Guest ")])])):E.value==="signin"?(u(),p("div",Zt,[e("div",es,[t[48]||(t[48]=e("h2",{class:"text-2xl font-bold"},"Sign In",-1)),e("button",{onClick:je,class:"text-gray-500 hover:text-gray-700"},[d(s(ze),{class:"w-5 h-5"})])]),e("form",{onSubmit:me(Ze,["prevent"]),class:"space-y-4"},[e("div",ts,[t[49]||(t[49]=e("label",{for:"signinEmail",class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),y(e("input",{id:"signinEmail","onUpdate:modelValue":t[2]||(t[2]=r=>B.value.email=r),type:"email",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[w,B.value.email]])]),e("div",ss,[t[50]||(t[50]=e("label",{for:"signinPassword",class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),y(e("input",{id:"signinPassword","onUpdate:modelValue":t[3]||(t[3]=r=>B.value.password=r),type:"password",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[w,B.value.password]])]),e("button",{type:"submit",disabled:H.value,class:"w-full py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-all duration-300 flex items-center justify-center"},[H.value?(u(),pe(s(ge),{key:0,class:"w-5 h-5 mr-2 animate-spin"})):N("",!0),C(" "+v(H.value?"Signing In...":"Sign In"),1)],8,rs),e("div",as,[e("p",os,[t[51]||(t[51]=C(" Don't have an account? ")),e("button",{onClick:t[4]||(t[4]=r=>E.value="signup"),class:"text-rose-600 hover:text-rose-700 font-medium"}," Sign Up ")])])],32)])):E.value==="signup"?(u(),p("div",ls,[e("div",ns,[t[52]||(t[52]=e("h2",{class:"text-2xl font-bold"},"Create Account",-1)),e("button",{onClick:je,class:"text-gray-500 hover:text-gray-700"},[d(s(ze),{class:"w-5 h-5"})])]),e("form",{onSubmit:me(Ke,["prevent"]),class:"space-y-4"},[e("div",is,[e("div",ds,[t[53]||(t[53]=e("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-1"},"First Name",-1)),y(e("input",{id:"firstName","onUpdate:modelValue":t[5]||(t[5]=r=>b.value.firstName=r),type:"text",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[w,b.value.firstName]])]),e("div",us,[t[54]||(t[54]=e("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-1"},"Last Name",-1)),y(e("input",{id:"lastName","onUpdate:modelValue":t[6]||(t[6]=r=>b.value.lastName=r),type:"text",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[w,b.value.lastName]])])]),e("div",cs,[t[55]||(t[55]=e("label",{for:"signupEmail",class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),y(e("input",{id:"signupEmail","onUpdate:modelValue":t[7]||(t[7]=r=>b.value.email=r),type:"email",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[w,b.value.email]])]),e("div",ms,[t[56]||(t[56]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),y(e("input",{id:"password","onUpdate:modelValue":t[8]||(t[8]=r=>b.value.password=r),type:"password",required:"",minlength:"6",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[w,b.value.password]]),t[57]||(t[57]=e("p",{class:"text-xs text-gray-500 mt-1"},"Password must be at least 6 characters",-1))]),e("div",ps,[t[58]||(t[58]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"},"Phone (Optional)",-1)),y(e("input",{id:"phone","onUpdate:modelValue":t[9]||(t[9]=r=>b.value.phone=r),type:"tel",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[w,b.value.phone]])]),e("button",{type:"submit",disabled:Q.value,class:"w-full py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-all duration-300 flex items-center justify-center"},[Q.value?(u(),pe(s(ge),{key:0,class:"w-5 h-5 mr-2 animate-spin"})):N("",!0),C(" "+v(Q.value?"Creating Account...":"Create Account"),1)],8,gs),e("div",fs,[e("p",bs,[t[59]||(t[59]=C(" Already have an account? ")),e("button",{onClick:t[10]||(t[10]=r=>E.value="signin"),class:"text-rose-600 hover:text-rose-700 font-medium"}," Sign In ")])])],32)])):N("",!0)])])):N("",!0)]),_:1}),e("div",vs,[e("div",ys,[e("div",{class:_(["flex flex-col items-center",{"text-black":i.value>=1,"text-gray-400":i.value<1}])},[e("div",{class:_(["w-12 h-12 rounded-full flex items-center justify-center mb-2 transition-all duration-500",{"bg-black text-white scale-110 shadow-lg":i.value===1,"bg-black text-white":i.value>1,"bg-gray-200":i.value<1}])},[d(s(Ve),{class:"w-5 h-5"})],2),t[60]||(t[60]=e("span",{class:"text-sm font-medium"},"Delivery",-1))],2),e("div",xs,[t[61]||(t[61]=e("div",{class:"absolute inset-0 bg-gray-200"},null,-1)),e("div",{class:"absolute inset-0 bg-black transition-all duration-500 ease-out",style:Fe({width:i.value>=2?"100%":"0%"})},null,4)]),e("div",{class:_(["flex flex-col items-center",{"text-black":i.value>=2,"text-gray-400":i.value<2}])},[e("div",{class:_(["w-12 h-12 rounded-full flex items-center justify-center mb-2 transition-all duration-500",{"bg-black text-white scale-110 shadow-lg":i.value===2,"bg-black text-white":i.value>2,"bg-gray-200":i.value<2}])},[d(s(qe),{class:"w-5 h-5"})],2),t[62]||(t[62]=e("span",{class:"text-sm font-medium"},"Shipping",-1))],2),e("div",hs,[t[63]||(t[63]=e("div",{class:"absolute inset-0 bg-gray-200"},null,-1)),e("div",{class:"absolute inset-0 bg-black transition-all duration-500 ease-out",style:Fe({width:i.value>=3?"100%":"0%"})},null,4)]),e("div",{class:_(["flex flex-col items-center",{"text-black":i.value>=3,"text-gray-400":i.value<3}])},[e("div",{class:_(["w-12 h-12 rounded-full flex items-center justify-center mb-2 transition-all duration-500",{"bg-black text-white scale-110 shadow-lg":i.value===3,"bg-black text-white":i.value>3,"bg-gray-200":i.value<3}])},[d(s(be),{class:"w-5 h-5"})],2),t[64]||(t[64]=e("span",{class:"text-sm font-medium"},"Payment",-1))],2)])]),e("div",ws,[e("div",ks,[d(ce,{name:"slide-fade",mode:"out-in"},{default:W(()=>[i.value===1?(u(),p("div",_s,[e("h2",Cs,[d(s(Ve),{class:"w-5 h-5 mr-2"}),t[65]||(t[65]=C(" Delivery Details "))]),e("form",{onSubmit:me(Ie,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[e("div",Ns,[t[66]||(t[66]=e("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-1"},"First Name",-1)),y(e("input",{id:"firstName","onUpdate:modelValue":t[11]||(t[11]=r=>s(o).firstName=r),type:"text",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onInput:t[12]||(t[12]=(...r)=>s(m)&&s(m)(...r))},null,544),[[w,s(o).firstName]])]),e("div",Ss,[t[67]||(t[67]=e("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-1"},"Last Name",-1)),y(e("input",{id:"lastName","onUpdate:modelValue":t[13]||(t[13]=r=>s(o).lastName=r),type:"text",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onInput:t[14]||(t[14]=(...r)=>s(m)&&s(m)(...r))},null,544),[[w,s(o).lastName]])]),e("div",Ts,[t[68]||(t[68]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),y(e("input",{id:"email","onUpdate:modelValue":t[15]||(t[15]=r=>s(o).email=r),type:"email",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onInput:t[16]||(t[16]=(...r)=>s(m)&&s(m)(...r))},null,544),[[w,s(o).email]])]),e("div",Is,[t[69]||(t[69]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"},"Phone",-1)),y(e("input",{id:"phone","onUpdate:modelValue":t[17]||(t[17]=r=>s(o).phone=r),type:"tel",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onInput:t[18]||(t[18]=(...r)=>s(m)&&s(m)(...r))},null,544),[[w,s(o).phone]])]),e("div",Ms,[t[70]||(t[70]=e("label",{for:"address",class:"block text-sm font-medium text-gray-700 mb-1"},"Address",-1)),y(e("input",{id:"address","onUpdate:modelValue":t[19]||(t[19]=r=>s(o).address=r),type:"text",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onInput:t[20]||(t[20]=(...r)=>s(m)&&s(m)(...r))},null,544),[[w,s(o).address]])]),e("div",Ps,[t[71]||(t[71]=e("label",{for:"city",class:"block text-sm font-medium text-gray-700 mb-1"},"City",-1)),y(e("input",{id:"city","onUpdate:modelValue":t[21]||(t[21]=r=>s(o).city=r),type:"text",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onInput:t[22]||(t[22]=(...r)=>s(m)&&s(m)(...r))},null,544),[[w,s(o).city]])]),e("div",js,[t[72]||(t[72]=e("label",{for:"state",class:"block text-sm font-medium text-gray-700 mb-1"},"State",-1)),y(e("input",{id:"state","onUpdate:modelValue":t[23]||(t[23]=r=>s(o).state=r),type:"text",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onInput:t[24]||(t[24]=(...r)=>s(m)&&s(m)(...r))},null,544),[[w,s(o).state]])]),e("div",$s,[t[73]||(t[73]=e("label",{for:"zipCode",class:"block text-sm font-medium text-gray-700 mb-1"},"Postal Code",-1)),y(e("input",{id:"zipCode","onUpdate:modelValue":t[25]||(t[25]=r=>s(o).zipCode=r),type:"text",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onInput:t[26]||(t[26]=(...r)=>s(m)&&s(m)(...r))},null,544),[[w,s(o).zipCode]])]),e("div",Es,[t[75]||(t[75]=e("label",{for:"country",class:"block text-sm font-medium text-gray-700 mb-1"},"Country",-1)),y(e("select",{id:"country","onUpdate:modelValue":t[27]||(t[27]=r=>s(o).country=r),required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200 hover:border-gray-400",onChange:Te},[t[74]||(t[74]=e("option",{value:""},"Select Country",-1)),(u(!0),p(Ue,null,De(Qe.value,r=>(u(),p("option",{key:r.countryCode,value:r.countryCode},v(r.countryName),9,As))),128))],544),[[ct,s(o).country]])]),e("div",Fs,[e("button",Us,[t[76]||(t[76]=C(" Continue to Shipping ")),d(s(Re),{class:"w-4 h-4 ml-2"})])])],32)])):i.value===2?(u(),p("div",Ds,[e("h2",Vs,[d(s(qe),{class:"w-5 h-5 mr-2"}),t[77]||(t[77]=C(" Shipping Method "))]),e("div",qs,[e("div",{class:_(["border rounded-lg p-4 cursor-pointer transition-all duration-300 hover:shadow-md",{"border-black bg-gray-50 shadow-sm":s(k)==="standard","border-gray-200":s(k)!=="standard"}]),onClick:t[28]||(t[28]=r=>s(se)("standard"))},[e("div",Rs,[e("div",{class:_(["w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center transition-all duration-200",{"border-black":s(k)==="standard","border-gray-300":s(k)!=="standard"}])},[s(k)==="standard"?(u(),p("div",zs)):N("",!0)],2),e("div",Bs,[e("div",Ls,[t[78]||(t[78]=e("span",{class:"font-medium"},"Standard Delivery",-1)),e("span",Os,"$"+v(I(z.value)),1)]),t[79]||(t[79]=e("p",{class:"text-sm text-gray-600"},"Delivery within 5-7 business days",-1))])])],2),e("div",{class:_(["border rounded-lg p-4 cursor-pointer transition-all duration-300 hover:shadow-md",{"border-black bg-gray-50 shadow-sm":s(k)==="express","border-gray-200":s(k)!=="express"}]),onClick:t[29]||(t[29]=r=>s(se)("express"))},[e("div",Ys,[e("div",{class:_(["w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center transition-all duration-200",{"border-black":s(k)==="express","border-gray-300":s(k)!=="express"}])},[s(k)==="express"?(u(),p("div",Gs)):N("",!0)],2),e("div",Qs,[e("div",Hs,[t[80]||(t[80]=e("span",{class:"font-medium"},"Express Delivery",-1)),e("span",Js,"$"+v(I(z.value*2.5)),1)]),t[81]||(t[81]=e("p",{class:"text-sm text-gray-600"},"Delivery within 2-3 business days",-1))])])],2),e("div",{class:_(["border rounded-lg p-4 cursor-pointer transition-all duration-300 hover:shadow-md",{"border-black bg-gray-50 shadow-sm":s(k)==="pickup","border-gray-200":s(k)!=="pickup"}]),onClick:t[30]||(t[30]=r=>s(se)("pickup"))},[e("div",Ws,[e("div",{class:_(["w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center transition-all duration-200",{"border-black":s(k)==="pickup","border-gray-300":s(k)!=="pickup"}])},[s(k)==="pickup"?(u(),p("div",Xs)):N("",!0)],2),t[82]||(t[82]=e("div",{class:"flex-1"},[e("div",{class:"flex justify-between"},[e("span",{class:"font-medium"},"Store Pickup"),e("span",{class:"font-medium"},"Free")]),e("p",{class:"text-sm text-gray-600"},"Pickup at our gallery location")],-1))])],2)]),e("div",Ks,[e("button",{onClick:Me,class:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all duration-300 flex items-center justify-center"},[d(s(fe),{class:"w-4 h-4 mr-2"}),t[83]||(t[83]=C(" Back "))]),e("button",{onClick:Ie,class:"flex-1 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-all duration-300 transform hover:scale-105 flex items-center justify-center"},[t[84]||(t[84]=C(" Continue to Payment ")),d(s(Re),{class:"w-4 h-4 ml-2"})])])])):i.value===3?(u(),p("div",Zs,[e("h2",er,[d(s(be),{class:"w-5 h-5 mr-2"}),t[85]||(t[85]=C(" Payment Method "))]),e("div",tr,[e("div",{class:_(["border rounded-lg p-4 cursor-pointer transition-all duration-300 hover:shadow-md",{"border-black bg-gray-50 shadow-sm":s(S)==="flutterwave","border-gray-200":s(S)!=="flutterwave"}]),onClick:t[31]||(t[31]=r=>s(ke)("flutterwave"))},[e("div",sr,[e("div",{class:_(["w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center transition-all duration-200",{"border-black":s(S)==="flutterwave","border-gray-300":s(S)!=="flutterwave"}])},[s(S)==="flutterwave"?(u(),p("div",rr)):N("",!0)],2),t[86]||(t[86]=e("div",{class:"flex-1"},[e("span",{class:"font-medium"},"Pay with Flutterwave"),e("p",{class:"text-sm text-gray-600"},"Secure payment via Flutterwave")],-1)),e("div",ar,[e("img",{src:Mt,alt:"Flutterwave",class:"w-6 h-6",onError:R},null,32)])])],2),e("div",{class:_(["border rounded-lg p-4 cursor-pointer transition-all duration-300 hover:shadow-md",{"border-black bg-gray-50 shadow-sm":s(S)==="manual","border-gray-200":s(S)!=="manual"}]),onClick:t[32]||(t[32]=r=>s(ke)("manual"))},[e("div",or,[e("div",{class:_(["w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center transition-all duration-200",{"border-black":s(S)==="manual","border-gray-300":s(S)!=="manual"}])},[s(S)==="manual"?(u(),p("div",lr)):N("",!0)],2),t[87]||(t[87]=e("div",{class:"flex-1"},[e("span",{class:"font-medium"},"Credit/Debit Card"),e("p",{class:"text-sm text-gray-600"},"Pay directly with your card")],-1)),e("div",nr,[e("div",ir,[e("img",{src:Be,alt:"Visa",class:"rounded-lg",onError:R},null,32)]),e("div",dr,[e("img",{src:Le,alt:"Mastercard",class:"rounded-lg",onError:R},null,32)]),e("div",ur,[e("img",{src:Oe,alt:"Mastercard",class:"rounded-lg",onError:R},null,32)])])])],2)]),d(ce,{name:"fade"},{default:W(()=>[s(S)==="manual"?(u(),p("div",cr,[t[93]||(t[93]=e("h3",{class:"text-lg font-medium mb-4"},"Card Details",-1)),e("form",mr,[e("div",pr,[t[88]||(t[88]=e("label",{for:"cardNumber",class:"block text-sm font-medium text-gray-700 mb-1"},"Card Number",-1)),e("div",gr,[y(e("input",{id:"cardNumber","onUpdate:modelValue":t[33]||(t[33]=r=>s($).cardNumber=r),type:"text",placeholder:"1234 5678 9012 3456",required:"",class:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200"},null,512),[[w,s($).cardNumber]]),d(s(be),{class:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})])]),e("div",fr,[t[89]||(t[89]=e("label",{for:"cardName",class:"block text-sm font-medium text-gray-700 mb-1"},"Cardholder Name",-1)),y(e("input",{id:"cardName","onUpdate:modelValue":t[34]||(t[34]=r=>s($).cardName=r),type:"text",placeholder:"John Doe",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200"},null,512),[[w,s($).cardName]])]),e("div",br,[e("div",vr,[t[90]||(t[90]=e("label",{for:"expiryDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Expiry Date",-1)),y(e("input",{id:"expiryDate","onUpdate:modelValue":t[35]||(t[35]=r=>s($).expiryDate=r),type:"text",placeholder:"MM/YY",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200"},null,512),[[w,s($).expiryDate]])]),e("div",yr,[t[92]||(t[92]=e("label",{for:"cvv",class:"block text-sm font-medium text-gray-700 mb-1"},"CVV",-1)),e("div",xr,[y(e("input",{id:"cvv","onUpdate:modelValue":t[36]||(t[36]=r=>s($).cvv=r),type:"text",placeholder:"123",required:"",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200"},null,512),[[w,s($).cvv]]),e("div",hr,[d(s(Ct),{class:"w-4 h-4 text-gray-400"}),t[91]||(t[91]=e("div",{class:"absolute bottom-full right-0 mb-2 w-48 p-2 bg-black text-white text-xs rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"}," The 3-digit security code on the back of your card ",-1))])])])])])])):N("",!0)]),_:1}),e("div",wr,[e("button",{onClick:Me,class:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all duration-300 flex items-center justify-center"},[d(s(fe),{class:"w-4 h-4 mr-2"}),t[94]||(t[94]=C(" Back "))]),e("button",{onClick:We,disabled:s(te),class:"flex-1 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-all duration-300 transform hover:scale-105 flex items-center justify-center"},[s(te)?(u(),pe(s(ge),{key:0,class:"w-5 h-5 mr-2 animate-spin"})):N("",!0),C(" "+v(s(te)?"Processing...":"Complete Order"),1)],8,kr)])])):N("",!0)]),_:1})]),e("div",_r,[e("div",Cr,[e("h2",Nr,[d(s(yt),{class:"w-5 h-5 mr-2"}),t[95]||(t[95]=C(" Order Summary "))]),s(f)&&s(f).items.length>0?(u(),p("div",Sr,[(u(!0),p(Ue,null,De(s(f).items,r=>(u(),p("div",{key:r.id,class:"flex gap-4 p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition-all duration-200 group"},[e("div",Tr,[e("img",{src:r.image,alt:r.title,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,Ir)]),e("div",Mr,[e("h4",Pr,v(r.title),1),e("p",jr,"$"+v(I(r.price)),1),e("div",$r,[e("button",{onClick:Ae=>$e(r.id,Math.max(1,r.quantity-1)),class:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors"},[d(s(St),{class:"w-3 h-3"})],8,Er),e("span",Ar,v(r.quantity),1),e("button",{onClick:Ae=>$e(r.id,r.quantity+1),class:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors"},[d(s(Tt),{class:"w-3 h-3"})],8,Fr),e("button",{onClick:Ae=>st(r.id),class:"ml-auto text-gray-400 hover:text-red-500 transition-colors duration-200"},[d(s(It),{class:"w-4 h-4"})],8,Ur)])]),e("div",Dr,[e("span",Vr,"$"+v(I(r.price*r.quantity)),1)])]))),128))])):N("",!0),e("div",qr,[e("div",Rr,[t[96]||(t[96]=e("span",null,"Subtotal",-1)),e("span",null,"$"+v(I(((T=s(f))==null?void 0:T.subtotal)||0)),1)]),e("div",zr,[t[97]||(t[97]=e("span",null,"Shipping",-1)),e("span",null,"$"+v(I(ne())),1)]),e("div",Br,[e("span",null,"Tax ("+v(G.value)+"%)",1),e("span",null,"$"+v(I(ie())),1)]),U.value?(u(),p("div",Lr,[e("p",null,"Shipping to: "+v(U.value.countryName),1),e("p",null,"Tax Rate: "+v(G.value)+"%",1)])):N("",!0),e("div",Or,[t[98]||(t[98]=e("span",null,"Total",-1)),e("span",Yr,"$"+v(I(de())),1)])]),e("div",Gr,[e("div",Qr,[d(s(_t),{class:"w-4 h-4 mr-2"}),t[99]||(t[99]=C(" Secure checkout "))]),e("div",Hr,[e("div",Jr,[e("img",{src:Be,alt:"Visa",class:"rounded-lg",onError:R},null,32)]),e("div",Wr,[e("img",{src:Le,alt:"Mastercard",class:"rounded-lg",onError:R},null,32)]),e("div",Xr,[e("img",{src:Oe,alt:"American Express",class:"rounded-lg",onError:R},null,32)])])]),V.value>0?(u(),p("div",Kr,[e("div",Zr,[d(s(Nt),{class:"w-5 h-5 text-rose-500 mr-2"}),e("div",null,[t[100]||(t[100]=e("p",{class:"text-sm font-medium text-rose-700"},"Your cart is reserved for:",-1)),e("p",ea,v(et(V.value)),1)])])])):N("",!0)])])])])):(u(),p("div",Et,[e("div",At,[e("div",Ft,[e("div",Ut,[d(s(ft),{class:"w-12 h-12"})])]),t[38]||(t[38]=e("h2",{class:"text-2xl font-bold mb-4 animate-fade-in"},"Your cart is empty",-1)),t[39]||(t[39]=e("p",{class:"text-gray-600 mb-6 animate-fade-in delay-100"},"Please add some items to your cart before proceeding to checkout.",-1)),d(h,{to:"/",class:"inline-block px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-all duration-300 transform hover:scale-105 animate-fade-in delay-200"},{default:W(()=>[e("span",Dt,[d(s(fe),{class:"w-4 h-4 mr-2"}),t[37]||(t[37]=C(" Browse Artwork "))])]),_:1})])]))])}}}),ca=mt(ta,[["__scopeId","data-v-68e96614"]]);export{ca as default};
