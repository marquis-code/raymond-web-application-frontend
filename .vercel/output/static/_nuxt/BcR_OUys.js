import{p as i}from"./Aeoatwyx.js";import{r as c,a6 as f,g as m}from"./BjaHr58Z.js";const h=()=>{const d=c(null),o=c(!1),e=c(null),a=f(),u=async r=>{var t,n,l,p;o.value=!0,e.value=null;try{const s=await i.$_get_product_by_id(((t=a==null?void 0:a.params)==null?void 0:t.id)||((n=a==null?void 0:a.query)==null?void 0:n.productId)||r);return d.value=s.data.product||s.data,s.data}catch(s){throw e.value=((p=(l=s.response)==null?void 0:l.data)==null?void 0:p.message)||"Failed to fetch products",e.value}finally{o.value=!1}};return m(()=>{var r,t;((r=a==null?void 0:a.params)!=null&&r.id||(t=a==null?void 0:a.query)!=null&&t.productId)&&u()}),{fetchProduct:u,product:d,loading:o,error:e}};export{h as u};
