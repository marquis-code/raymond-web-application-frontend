import{j as n,r as f,I as v}from"./CIplC_IQ.js";const a=f([]);{const c=localStorage.getItem("art-gallery-cart");if(c)try{a.value=JSON.parse(c)}catch(o){console.error("Failed to parse cart from localStorage",o)}v(a,o=>{localStorage.setItem("art-gallery-cart",JSON.stringify(o))},{deep:!0})}function y(){const c=e=>{const t=a.value.find(r=>r.id===e.id);t?t.quantity+=e.quantity:a.value.push(e)},o=e=>{const t=a.value.findIndex(r=>r.id===e);t!==-1&&a.value.splice(t,1)},u=(e,t)=>{const r=a.value.find(d=>d.id===e);r&&(r.quantity=t)},s=()=>{a.value=[]},i=n(()=>a.value.reduce((e,t)=>e+t.price*t.quantity,0)),l=n(()=>a.value.reduce((e,t)=>e+t.quantity,0));return{cart:a,addToCart:c,removeFromCart:o,updateCartItemQuantity:u,clearCart:s,cartTotal:i,cartItemCount:l}}export{y as u};
