import{e as be,r as v,f as me,g as xe,q as Le,c as o,b as Z,a as e,w as le,s as pe,m as x,t as d,T as Ce,F as S,k as B,v as Je,o as s,i as m,x as oe,y as $e,n as Ie,_ as we,h as ae,z as Ee,A as De,l as i,d as ne,B as ce,p as Ke,G as et,C as ye,D as tt,E as st,H as fe,u as ot,j as lt}from"./BjaHr58Z.js";import{u as nt}from"./Aeoatwyx.js";import{u as Oe}from"./CoHou-h7.js";import{u as at}from"./BGblWB5N.js";import{u as rt}from"./BcR_OUys.js";import{u as Me}from"./C3YqXJ0b.js";import{u as it}from"./zrFnWHnk.js";const dt={key:0,class:"loading-overlay"},ut={class:"mx-auto max-w-7xl px-6 lg:px-8"},ct={class:"mx-auto grid grid-cols-1 gap-x-12 gap-y-16 lg:grid-cols-12"},mt={class:"text-5xl font-light tracking-tight text-gray-900 sm:text-6xl mb-8"},vt={class:"block text-reveal",style:{"--delay":"0.2s"}},gt={class:"space-y-6 text-gray-600 leading-relaxed"},ht={class:"text-lg leading-loose text-reveal",style:{"--delay":"0.6s"}},ft={class:"featured-image-container"},pt=["onMouseenter"],yt=["src","alt","onLoad","onError"],bt={class:"thumbnails-container"},xt=["onMouseenter"],wt=["src","alt"],kt={key:1,class:"lg:col-span-7 flex items-center justify-center h-96 bg-gray-100 rounded-3xl"},_t=be({__name:"PrintsHeroSection",props:{images:{},content:{},loading:{}},setup(V){const R=V,E=v([]),D=v(0),C=v(!1),z=v(-1),j=v(!1),n=v({x:0,y:0}),p=me(()=>!(R!=null&&R.images)||!Array.isArray(R.images)?[]:R.images.map((y,f)=>({id:f,src:y,alt:`Art print ${f+1}`,aspectRatio:"4:3"}))),ee=y=>{E.value.includes(y)||E.value.push(y),E.value.length===p.value.length&&p.value.length>0&&setTimeout(()=>{Le(()=>{setTimeout(()=>{j.value=!0},300)})},500)},F=()=>{p.value.length!==0&&Je(()=>{!C.value&&p.value.length>0&&(D.value=(D.value+1)%p.value.length)},4e3)},h=y=>{C.value=!0,z.value=y,D.value=y},_=()=>{C.value=!1,z.value=-1},T=y=>{const f=y.currentTarget.getBoundingClientRect();n.value={x:((y.clientX-f.left)/f.width-.5)*2,y:((y.clientY-f.top)/f.height-.5)*2}};xe(()=>{Le(()=>{p.value.length>0&&F()})});const N=y=>{const f=.2*y,Q=n.value.x*(5+y*2),G=n.value.y*(3+y*1.5);return{"--delay":`${f}s`,transform:`translate(${Q}px, ${G}px)`}};return(y,f)=>{var Q,G;return s(),o("div",{class:"hero-section overflow-hidden pt-20 mt-16 relative",onMousemove:T},[Z(pe,{name:"fade"},{default:le(()=>[y.loading?(s(),o("div",dt,f[2]||(f[2]=[e("div",{class:"loader"},[e("div",{class:"loader-circle"},[e("div",{class:"circle-path"})]),e("span",{class:"loader-text"},"Loading artwork")],-1)]))):m("",!0)]),_:1}),e("div",ut,[e("div",ct,[e("div",{class:x(["lg:col-span-5 lg:pb-8 content-section",{"animate-content":!y.loading}])},[e("h2",mt,[e("span",vt,d(((Q=y.content)==null?void 0:Q.title)||"Art Gallery"),1)]),e("div",gt,[e("p",ht,d(((G=y.content)==null?void 0:G.description)||"Discover our curated collection of stunning art prints."),1)])],2),p.value.length>0?(s(),o("div",{key:0,class:x(["lg:col-span-7 gallery-container",{"gallery-ready":j.value}])},[e("div",ft,[Z(Ce,{name:"image-transition",tag:"div"},{default:le(()=>[(s(!0),o(S,null,B(p.value,(l,r)=>oe((s(),o("div",{key:l.id,class:"featured-image",style:Ie(N(r)),onMouseenter:g=>h(r),onMouseleave:f[0]||(f[0]=g=>_())},[e("img",{src:l.src,alt:l.alt,onLoad:g=>ee(l.id),onError:g=>console.warn("Failed to load image:",l.src),class:"rounded-3xl object-cover shadow-2xl transition-all duration-700 hover:shadow-3xl hover:scale-105"},null,40,yt),f[3]||(f[3]=e("div",{class:"image-overlay"},null,-1))],44,pt)),[[$e,D.value===r||z.value===r]])),128))]),_:1})]),e("div",bt,[(s(!0),o(S,null,B(p.value,(l,r)=>(s(),o("div",{key:`thumb-${l.id}`,class:x(["thumbnail",{active:D.value===r}]),onMouseenter:g=>h(r),onMouseleave:f[1]||(f[1]=g=>_()),style:Ie({"--thumb-delay":`${1.2+r*.1}s`})},[e("img",{src:l.src,alt:`Thumbnail for ${l.alt}`,class:"rounded-lg object-cover"},null,8,wt)],46,xt))),128))]),f[4]||(f[4]=e("div",{class:"decorative-elements"},[e("div",{class:"floating-element element-1"}),e("div",{class:"floating-element element-2"}),e("div",{class:"floating-element element-3"})],-1))],2)):(s(),o("div",kt,f[5]||(f[5]=[e("p",{class:"text-gray-500"},"No images available",-1)])))])])],32)}}}),Ct=we(_t,[["__scopeId","data-v-1789855d"]]),$t={class:"lg:p-6 p-3"},It={key:0,class:"bg-gray-50 rounded-xl p-4 mb-6"},Mt={class:"flex items-center space-x-4"},jt={class:"w-16 h-16 bg-white rounded-lg overflow-hidden flex-shrink-0"},Tt=["src","alt"],At={class:"flex-1 min-w-0"},Pt={class:"font-semibold text-gray-900 text-sm truncate"},St={class:"text-sm text-gray-600"},Bt={class:"text-lg font-bold text-gray-900"},Rt={class:"space-y-4 mb-6"},zt={class:"flex items-center"},Ft={key:0,class:"w-3 h-3 rounded-full bg-white"},Lt={class:"flex-1"},Et={class:"flex flex-col justify-between items-start mb-1"},Dt={class:"font-bold block text-emerald-600"},Ot={class:"flex items-center"},Ut={key:0,class:"w-3 h-3 rounded-full bg-white"},Nt={class:"flex-1"},Ht={class:"flex flex-col justify-between items-start mb-1"},qt={class:"font-bold block text-blue-600"},Vt={class:"text-sm text-gray-600"},Gt={key:0,class:"text-xs text-gray-500"},Wt={key:1,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Qt={class:"flex items-center"},Xt={class:"text-sm text-yellow-800"},Yt={key:0},Zt={class:"flex gap-3"},Jt=["disabled"],Kt=be({__name:"PaymentSelectionModal",props:{isOpen:{type:Boolean},cartItem:{},onClose:{type:Function},onProceed:{type:Function}},setup(V){const{userCurrency:R,exchangeRates:E,initializeUserCurrency:D,convertFromUSD:C}=Me(),z=v({});v("USD");const j=v("NGN");v(null),me(()=>Object.keys(E.value).sort());const n=v("full"),p=V,ee=me(()=>{var g;if(!((g=p.cartItem)!=null&&g.installmentConfig))return!1;const l=p.cartItem.installmentConfig,r=F();return l.enabled&&r>=(l.minimumAmount||0)}),F=()=>p.cartItem?p.cartItem.price*p.cartItem.quantity:0,h=()=>{var l,r;return((r=(l=p.cartItem)==null?void 0:l.installmentConfig)==null?void 0:r.minimumAmount)||100},_=()=>{var l,r;return((r=(l=p.cartItem)==null?void 0:l.installmentConfig)==null?void 0:r.interestRate)||0},T=()=>{var g,A;if(!((A=(g=p.cartItem)==null?void 0:g.installmentConfig)!=null&&A.availableTerms))return"";const l=p.cartItem.installmentConfig.availableTerms;if(l.length===1)return`${l[0]} months`;if(l.length===2)return`${l[0]} or ${l[1]} months`;const r=[...l].sort((H,J)=>H-J);return`${r[0]}-${r[r.length-1]} months`},N=l=>{var H;if(!((H=p.cartItem)!=null&&H.installmentConfig))return 0;const r=p.cartItem.installmentConfig,g=F(),A=r.interestRate/100/12;return A>0?g*A*Math.pow(1+A,l)/(Math.pow(1+A,l)-1):g/l},y=()=>{var J,P;if(!((P=(J=p.cartItem)==null?void 0:J.installmentConfig)!=null&&P.availableTerms))return"";const l=p.cartItem.installmentConfig.availableTerms,r=Math.min(...l),g=Math.max(...l),A=N(g),H=N(r);return r===g?`${C(A).formattedAmount}/mo`:`${C(A).formattedAmount} - ${C(H).formattedAmount}/mo`},f=l=>{n.value=l},Q=async()=>{if(!(!p.cartItem||!n.value))try{p.onProceed(n.value,p.cartItem),await Ke({path:"/checkout",query:{paymentType:n.value,productId:p.cartItem.productId,size:p.cartItem.size}})}catch(l){console.error("Error navigating to checkout:",l)}};xe(async()=>{await D(),G()}),ae([R,E],()=>{G()});const G=()=>{R.value&&Object.keys(E.value).length>0&&(z.value=C(100).formattedAmount)};return ae(R,l=>{j.value=l}),(l,r)=>(s(),Ee(De,{to:"body"},[l.isOpen?(s(),o("div",{key:0,class:x(["fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",{"opacity-100":l.isOpen,"opacity-0":!l.isOpen}])},[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:r[0]||(r[0]=(...g)=>l.onClose&&l.onClose(...g))}),e("div",{class:x(["relative w-full max-w-md bg-white rounded-2xl shadow-2xl transform transition-all duration-300 mx-auto",{"translate-y-0 scale-100":l.isOpen,"translate-y-8 scale-95":!l.isOpen}]),onClick:r[5]||(r[5]=ce(()=>{},["stop"]))},[e("button",{onClick:r[1]||(r[1]=(...g)=>l.onClose&&l.onClose(...g)),class:"absolute top-4 right-4 z-20 bg-gray-100 hover:bg-gray-200 p-2 rounded-full transition-all duration-300 shadow-sm","aria-label":"Close modal"},r[6]||(r[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-gray-700"},[e("path",{d:"m18 6-12 12"}),e("path",{d:"m6 6 12 12"})],-1)])),e("div",$t,[r[14]||(r[14]=e("div",{class:"text-center mb-6"},[e("div",{class:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-full flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-emerald-600"},[e("path",{d:"M9 12l2 2 4-4"}),e("path",{d:"M21 12c.552 0 1-.448 1-1V5c0-.552-.448-1-1-1H3c-.552 0-1 .448-1 1v6c0 .552.448 1 1 1"}),e("path",{d:"M3 12v6c0 .552.448 1 1 1h16c.552 0 1-.448 1-1v-6"})])]),e("h2",{class:"text-xl font-bold text-gray-900 mb-2"},"Choose Payment Option"),e("p",{class:"text-gray-600 text-sm"},"How would you like to pay for your selected items?")],-1)),l.cartItem?(s(),o("div",It,[e("div",Mt,[e("div",jt,[e("img",{src:l.cartItem.image||"/placeholder.svg?height=64&width=64",alt:l.cartItem.title,class:"w-full h-full object-cover"},null,8,Tt)]),e("div",At,[e("h3",Pt,d(l.cartItem.title),1),e("p",St,d(l.cartItem.size)+" • Qty: "+d(l.cartItem.quantity),1),e("p",Bt,d(i(C)(l.cartItem.price*l.cartItem.quantity).formattedAmount),1)])])])):m("",!0),e("div",Rt,[e("div",{class:x(["border-2 rounded-xl p-4 cursor-pointer transition-all duration-300 hover:shadow-md",n.value==="full"?"border-gray-800 bg-gray-50 shadow-md":"border-gray-200 hover:border-gray-300"]),onClick:r[2]||(r[2]=g=>f("full"))},[e("div",zt,[e("div",{class:x(["w-6 h-6 rounded-full border-2 mr-4 flex items-center justify-center transition-all duration-200",n.value==="full"?"border-gray-800 bg-gray-800":"border-gray-300"])},[n.value==="full"?(s(),o("div",Ft)):m("",!0)],2),e("div",Lt,[e("div",Et,[r[7]||(r[7]=e("span",{class:"font-semibold block text-gray-800"},"Pay Full Amount",-1)),e("span",Dt,d(i(C)(F()).formattedAmount),1)]),r[8]||(r[8]=e("p",{class:"text-sm text-gray-600"},"Complete payment now with no additional fees",-1))]),r[9]||(r[9]=e("div",{class:"w-10 h-10 bg-emerald-100 rounded-md flex items-center justify-center ml-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-emerald-600"},[e("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),e("line",{x1:"2",x2:"22",y1:"10",y2:"10"})])],-1))])],2),ee.value?(s(),o("div",{key:0,class:x(["border-2 rounded-xl p-4 cursor-pointer transition-all duration-300 hover:shadow-md",n.value==="installment"?"border-gray-800 bg-gray-50 shadow-md":"border-gray-200 hover:border-gray-300"]),onClick:r[3]||(r[3]=g=>f("installment"))},[e("div",Ot,[e("div",{class:x(["w-6 h-6 rounded-full border-2 mr-4 flex items-center justify-center transition-all duration-200",n.value==="installment"?"border-gray-800 bg-gray-800":"border-gray-300"])},[n.value==="installment"?(s(),o("div",Ut)):m("",!0)],2),e("div",Nt,[e("div",Ht,[r[10]||(r[10]=e("span",{class:"font-semibold block text-gray-800"},"Installment Plan",-1)),e("span",qt,d(y()),1)]),e("p",Vt,[ne(" Split your payment into "+d(T())+" manageable installments ",1),_()>0?(s(),o("span",Gt," ("+d(_())+"% APR) ",1)):m("",!0)])]),r[11]||(r[11]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-md flex items-center justify-center ml-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-blue-600"},[e("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),e("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),e("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),e("line",{x1:"3",x2:"21",y1:"10",y2:"10"})])],-1))])],2)):m("",!0),ee.value?m("",!0):(s(),o("div",Wt,[e("div",Qt,[r[13]||(r[13]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-yellow-600 mr-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e("path",{d:"M12 17h.01"})],-1)),e("span",Xt,[r[12]||(r[12]=ne(" Installment payment is not available for this item ")),l.cartItem&&F()<h()?(s(),o("span",Yt," (minimum "+d(i(C)(h()).formattedAmount)+" required) ",1)):m("",!0)])])]))]),e("div",Zt,[e("button",{onClick:r[4]||(r[4]=(...g)=>l.onClose&&l.onClose(...g)),class:"flex-1 text-sm py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 font-medium"}," Cancel "),e("button",{onClick:Q,disabled:!n.value,class:"flex-1 text-sm py-3 bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-xl hover:from-gray-900 hover:to-black transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"}," Proceed to Checkout ",8,Jt)])])],2)],2)):m("",!0)]))}}),es=we(Kt,[["__scopeId","data-v-274d5778"]]),ts={$_single_upload(V){return et.post("/images",V)}},ss=()=>{const V=v(!1),R=v({}),{$_single_upload:E}=ts;return{singleUploadFile:async C=>{V.value=!0;try{const z=new FormData;z.append("file",C);const j=await E(z);if(j.type!=="ERROR")return R.value=j.data??[],j.data;throw new Error("Error in API response")}catch(z){console.error("Error uploading file:",z)}finally{V.value=!1}},loading:V,uploadResponse:R}},os={key:0,class:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm"},ls={class:"h-full w-full flex flex-col bg-white"},ns={class:"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 py-3"},as={class:"flex items-center justify-between"},rs={class:"flex items-center space-x-3 flex-1 min-w-0"},is={class:"min-w-0 flex-1"},ds={class:"text-base font-semibold text-gray-900 truncate"},us={class:"flex items-center space-x-2 text-sm text-gray-600"},cs={class:"text-xs"},ms={class:"flex-1 overflow-hidden"},vs={class:"lg:hidden h-full overflow-y-auto"},gs={class:"pb-6"},hs={class:"bg-gray-50 p-4"},fs={class:"aspect-square bg-white rounded-xl shadow-sm overflow-hidden relative"},ps={class:"absolute inset-0 flex items-center justify-center p-4"},ys=["src","alt"],bs={key:0,class:"absolute inset-y-0 left-0 right-0 flex items-center justify-between pointer-events-none"},xs={key:0,class:"mt-3"},ws={class:"flex space-x-2 overflow-x-auto pb-2"},ks=["onClick"],_s=["src","alt"],Cs={class:"p-4 space-y-5"},$s={class:"animate-item"},Is={class:"flex items-baseline space-x-2"},Ms={class:"text-base font-bold text-gray-900"},js={key:0},Ts={key:1},As={key:0,class:"text-base text-gray-600"},Ps={key:0,class:"text-sm text-gray-600 mt-1"},Ss={class:"animate-item"},Bs={class:"grid grid-cols-1 gap-3"},Rs=["onClick"],zs={class:"flex justify-between items-center"},Fs={class:"text-left"},Ls={class:"text-sm font-semibold text-gray-900"},Es={class:"text-xs text-gray-600 mt-1"},Ds={key:0,class:"text-blue-600"},Os={key:0,class:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center"},Us={class:"animate-item"},Ns={class:"flex items-center justify-center"},Hs={class:"flex items-center bg-gray-100 rounded-xl p-1"},qs=["disabled"],Vs={class:"w-16 text-center font-bold text-base text-gray-900"},Gs={class:"animate-item"},Ws=["disabled"],Qs={key:0},Xs={key:1},Ys={class:"animate-item"},Zs={class:"border border-gray-200 rounded-xl overflow-hidden"},Js={class:"flex items-center space-x-3"},Ks={key:0,class:"flex items-center space-x-1"},eo={class:"flex items-center"},to={class:"text-sm text-gray-600"},so={class:"px-4 pb-4"},oo={key:0,class:"space-y-4"},lo={class:"flex items-start justify-between mb-2"},no={class:"flex items-center space-x-2"},ao={class:"flex items-center"},ro={class:"text-sm font-medium text-gray-900"},io={class:"text-xs text-gray-500"},uo={class:"text-sm text-gray-700 leading-relaxed"},co={key:0,class:"text-center"},mo={class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},vo={key:1,class:"text-center py-8"},go={class:"space-y-3 animate-item"},ho={key:0,class:"border border-gray-200 rounded-xl overflow-hidden"},fo={class:"px-4 pb-4"},po=["innerHTML"],yo={key:1,class:"border border-gray-200 rounded-xl overflow-hidden"},bo={class:"px-4 pb-4"},xo=["innerHTML"],wo={class:"hidden lg:flex h-full"},ko={class:"flex-[2] bg-gray-50 relative"},_o={class:"absolute inset-0 flex items-center justify-center p-6"},Co={class:"relative w-full h-full max-w-3xl"},$o={class:"relative w-full h-full bg-white rounded-2xl shadow-lg overflow-hidden"},Io=["src","alt"],Mo={key:0,class:"absolute inset-y-0 left-0 right-0 flex items-center justify-between pointer-events-none"},jo={key:0,class:"absolute bottom-6 left-1/2 transform -translate-x-1/2"},To={class:"flex space-x-3 bg-white/90 backdrop-blur-sm p-3 rounded-2xl shadow-lg"},Ao=["onClick"],Po=["src","alt"],So={class:"w-96 bg-white border-l border-gray-200 overflow-y-auto"},Bo={class:"p-6 space-y-6"},Ro={class:"animate-item"},zo={class:"flex items-baseline space-x-3"},Fo={class:"text-2xl font-bold text-gray-900"},Lo={key:0},Eo={key:1},Do={key:0,class:"text-base text-gray-600"},Oo={key:0,class:"text-base text-gray-600 mt-2"},Uo={class:"animate-item"},No={class:"grid grid-cols-1 gap-3"},Ho=["onClick"],qo={class:"flex justify-between items-center"},Vo={class:"text-left"},Go={class:"text-sm font-semibold text-gray-900"},Wo={class:"text-sm text-gray-600 mt-1"},Qo={key:0,class:"text-blue-600"},Xo={key:0,class:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center"},Yo={class:"animate-item"},Zo={class:"flex items-center justify-center"},Jo={class:"flex items-center bg-gray-100 rounded-xl p-1"},Ko=["disabled"],el={class:"w-20 text-center font-bold text-base text-gray-900"},tl={class:"animate-item"},sl=["disabled"],ol={key:0},ll={key:1},nl={class:"animate-item"},al={class:"border border-gray-200 rounded-xl overflow-hidden"},rl={class:"flex items-center space-x-3"},il={key:0,class:"flex items-center space-x-1"},dl={class:"flex items-center"},ul={class:"text-sm text-gray-600"},cl={class:"px-4 pb-4"},ml={key:0,class:"space-y-4"},vl={class:"flex items-start justify-between mb-2"},gl={class:"flex items-center space-x-2"},hl={class:"flex items-center"},fl={class:"text-sm font-medium text-gray-900"},pl={class:"text-xs text-gray-500"},yl={class:"text-sm text-gray-700 leading-relaxed"},bl={key:0,class:"text-center"},xl={class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},wl={key:1,class:"text-center py-8"},kl={class:"space-y-4 animate-item"},_l={key:0,class:"border border-gray-200 rounded-xl overflow-hidden"},Cl={class:"px-4 pb-4"},$l=["innerHTML"],Il={key:1,class:"border border-gray-200 rounded-xl overflow-hidden"},Ml={class:"px-4 pb-4"},jl=["innerHTML"],Tl={key:0,class:"fixed bottom-6 right-6 z-50"},Al={key:0,class:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4"},Pl={class:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden transform transition-all duration-300"},Sl={class:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]"},Bl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Rl={class:"flex items-center space-x-1"},zl=["onClick","onMouseover"],Fl={class:"text-right text-xs text-gray-500 mt-1"},Ll={class:"text-right text-xs text-gray-500 mt-1"},El={class:"block text-sm font-medium text-gray-700 mb-3"},Dl=["disabled"],Ol={key:0,class:"mt-4 grid grid-cols-3 gap-3"},Ul=["src","alt"],Nl={key:0,class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center"},Hl={key:1,class:"absolute top-2 left-2 p-1 bg-green-500 text-white rounded-full"},ql=["onClick","disabled"],Vl={class:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200"},Gl=["disabled"],Wl={key:0},Ql=be({__name:"ProductPreviewModal",props:{isOpen:{type:Boolean},productId:{},onClose:{type:Function},onAddToCart:{type:Function}},setup(V){const{singleUploadFile:R,loading:E,uploadResponse:D}=ss(),C=V,{initializeUserCurrency:z,convertFromUSD:j}=Me(),{product:n,fetchProduct:p}=rt(),{addToCart:ee}=Oe(),{showToast:F}=st(),h=v(""),_=v(1),T=v(0),N=v(!1),y=v(null),f=v(!1),Q=v(0),G=v(0),l=ye({productInfo:!1,shippingInfo:!1,reviews:!1}),r=v(new Set),g=v(!1),A=v(!1),H=v(0),J=v(null),P=v([]),$=ye({name:"",email:"",rating:0,title:"",comment:""}),X=v([{_id:"687c9c3451b23dd3ffac0078",productId:{_id:"684aa2c2a1708d756091adbe",name:"Fort Bragg CA 1",discountPercentage:0,id:"684aa2c2a1708d756091adbe"},userId:"67fa8e31b42b0ed1af9e1a0f",userName:"raymond@gmail.com",userRole:"admin",rating:5,comment:"Absolutely breathtaking. The colours and detail are so vivid, it feels alive on my wall.",status:"approved",createdAt:"2025-07-20T07:35:16.629Z",updatedAt:"2025-07-20T07:35:16.629Z",id:"687c9c3451b23dd3ffac0078"}]),ve=me(()=>$.name.trim()!==""&&$.email.trim()!==""&&$.rating>0&&$.title.trim()!==""&&$.comment.trim()!=="");xe(async()=>{await z(),window.addEventListener("keydown",c)}),tt(()=>{window.removeEventListener("keydown",c)});const c=a=>{C.isOpen&&(a.key==="Escape"?g.value?he():C.onClose():a.key==="ArrowRight"?te():a.key==="ArrowLeft"&&ie())},k=a=>{Q.value=a.changedTouches[0].screenX},Y=a=>{G.value=a.changedTouches[0].screenX,K()},K=()=>{const t=Q.value-G.value;Math.abs(t)>50&&(t>0?te():ie())},I=a=>a.sizes&&a.sizes.length>0?Math.min(...a.sizes.map(t=>t.price)):a.price||0,O=()=>{if(!n.value||!h.value)return 0;const a=n.value.sizes.find(t=>t._id===h.value);return a?a.price:I(n.value)},U=()=>O()*_.value,se=()=>{_.value++},ke=()=>{_.value>1&&_.value--},W=a=>{f.value||(f.value=!0,T.value=a,setTimeout(()=>{f.value=!1},300))},te=()=>{n.value&&n.value.images.length>1&&!f.value&&W((T.value+1)%n.value.images.length)},ie=()=>{n.value&&n.value.images.length>1&&!f.value&&W(T.value===0?n.value.images.length-1:T.value-1)},re=a=>{Object.keys(l).forEach(t=>{l[t]=!1}),l[a]=!0},ge=a=>a.installmentConfig&&a.installmentConfig.enabled&&a.price>=(a.installmentConfig.minimumAmount||0),je=a=>{if(!ge(a)||!a.installmentConfig)return"0";const t=a.installmentConfig,b=a.price,M=Math.min(...t.availableTerms),q=t.interestRate/100/12;let L;return q>0?L=b*q*Math.pow(1+q,M)/(Math.pow(1+q,M)-1):L=b/M,j(L).formattedAmount||Math.round(L).toString()},Te=()=>{var a;try{if(!n.value||!h.value){F({title:"Selection Required",message:"Please select a size before adding to cart",toastType:"warning",duration:3e3});return}const t=n.value.sizes.find(M=>M._id===h.value);if(!t){F({title:"Invalid Selection",message:"Selected size is not available",toastType:"error",duration:3e3});return}const b={id:`${n.value._id}-${t.size}-${Date.now()}`,productId:n.value._id,title:n.value.name,image:((a=n.value.images)==null?void 0:a[0])||"/placeholder.svg?height=300&width=300",price:t.price,quantity:_.value,size:t.size,color:t.color,installmentConfig:t.installmentConfig||null,hasInstallmentOption:ge(t),category:n.value.category,weight:n.value.weight,dimensions:{width:n.value.width,height:n.value.height,length:n.value.length}};y.value=b,N.value=!0}catch(t){console.error("Error adding to cart:",t),F({title:"Error",message:"Failed to add item to cart. Please try again.",toastType:"error",duration:3e3})}},Ae=()=>{N.value=!1,y.value=null},Ue=(a,t)=>{ee(t),F({title:"Added to Cart",message:`${t.quantity} × ${t.title} (${t.size}) added to cart`,toastType:"success",duration:3e3}),Ae(),C.onClose(),C.onAddToCart&&C.onAddToCart(t)},Pe=()=>{console.log("clicked again"),g.value=!0,Object.assign($,{name:"",email:"",rating:0,title:"",comment:""}),P.value=[],H.value=0},he=()=>{g.value=!1,A.value=!1},Ne=a=>{$.rating=a},He=()=>{var a;P.value.length<3&&((a=J.value)==null||a.click())},qe=a=>{const t=a.target;t.files&&Se(Array.from(t.files))},Ve=a=>{var t;(t=a.dataTransfer)!=null&&t.files&&Se(Array.from(a.dataTransfer.files))},Se=async a=>{const t=3-P.value.length,b=a.slice(0,t);for(const M of b)if(M.type.startsWith("image/")||M.type.startsWith("video/")){const q=new FileReader;q.onload=L=>{var ue;const de=P.value.length;P.value.push({file:M,preview:(ue=L.target)==null?void 0:ue.result,uploading:!0,uploaded:!1,uploadUrl:null}),Ge(M,de)},q.readAsDataURL(M)}},Ge=async(a,t)=>{try{r.value.add(t),await R(a),D.value&&(P.value[t]={...P.value[t],uploading:!1,uploaded:!0,uploadUrl:D.value.url||D.value})}catch(b){console.error("Upload failed:",b),P.value.splice(t,1)}finally{r.value.delete(t)}},We=a=>{P.value.splice(a,1)},Qe=async()=>{if(!(!ve.value||!n.value)){A.value=!0;try{await new Promise(t=>setTimeout(t,2e3));const a={_id:Date.now().toString(),productId:{_id:n.value._id,name:n.value.name,discountPercentage:0,id:n.value._id},userId:"current-user-id",userName:$.email,userRole:"customer",rating:$.rating,comment:$.comment,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:Date.now().toString()};X.value.unshift(a),F({title:"Review Submitted",message:"Thank you for your review! It will be published after moderation.",toastType:"success",duration:4e3}),he()}catch(a){console.error("Error submitting review:",a),F({title:"Error",message:"Failed to submit review. Please try again.",toastType:"error",duration:3e3})}finally{A.value=!1}}},Be=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Xe=a=>{document.body.style.overflow="hidden",a.style.opacity="0"},Ye=(a,t)=>{a.offsetHeight,a.style.transition="opacity 0.3s ease-out",a.style.opacity="1",a.querySelectorAll(".animate-item").forEach((M,q)=>{const L=M;L.style.opacity="0",L.style.transform="translateY(20px)",L.style.transition="all 0.5s ease-out",L.style.transitionDelay=`${q*.1}s`,setTimeout(()=>{L.style.opacity="1",L.style.transform="translateY(0)"},100)}),setTimeout(t,300)},Ze=(a,t)=>{a.style.transition="opacity 0.2s ease-in",a.style.opacity="0",setTimeout(()=>{document.body.style.overflow="",t()},200)};return ae(()=>C.productId,a=>{a&&C.isOpen&&(p(a),h.value="",_.value=1,T.value=0,Object.keys(l).forEach(t=>{l[t]=!1}))},{immediate:!0}),ae(()=>C.isOpen,a=>{a||(h.value="",_.value=1,T.value=0,N.value=!1,y.value=null,g.value=!1,Object.keys(l).forEach(t=>{l[t]=!1}))}),(a,t)=>(s(),Ee(De,{to:"body"},[Z(pe,{name:"modal-fade",onBeforeEnter:Xe,onEnter:Ye,onLeave:Ze},{default:le(()=>{var b,M,q,L,de,ue,Re,ze,Fe;return[a.isOpen&&i(n)?(s(),o("div",os,[e("div",ls,[e("div",ns,[e("div",as,[e("div",rs,[e("button",{onClick:t[0]||(t[0]=(...u)=>a.onClose&&a.onClose(...u)),class:"p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close modal"},t[14]||(t[14]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e("div",is,[e("h1",ds,d(i(n).name),1)])]),e("div",us,[e("span",cs,d(T.value+1)+" / "+d(i(n).images.length),1)])])]),e("div",ms,[e("div",vs,[e("div",gs,[e("div",hs,[e("div",fs,[e("div",ps,[Z(Ce,{name:"image-fade",tag:"div",class:"relative w-full h-full"},{default:le(()=>[(s(!0),o(S,null,B(i(n).images,(u,w)=>oe((s(),o("div",{key:`image-${w}`,class:"absolute inset-0 flex items-center justify-center"},[e("img",{src:u,alt:`${i(n).name} - view ${w+1}`,class:"max-w-full max-h-full object-contain"},null,8,ys)])),[[$e,w===T.value]])),128))]),_:1})]),i(n).images.length>1?(s(),o("div",bs,[e("button",{onClick:ie,class:"ml-2 p-2 rounded-full bg-white/90 shadow-md transition-all duration-200 pointer-events-auto","aria-label":"Previous image"},t[15]||(t[15]=[e("svg",{class:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("button",{onClick:te,class:"mr-2 p-2 rounded-full bg-white/90 shadow-md transition-all duration-200 pointer-events-auto","aria-label":"Next image"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])):m("",!0),e("div",{class:"absolute inset-0",onTouchstart:k,onTouchend:Y},[e("div",{class:"absolute inset-y-0 left-0 w-1/3",onClick:ie}),e("div",{class:"absolute inset-y-0 right-0 w-1/3",onClick:te})],32)]),i(n).images.length>1?(s(),o("div",xs,[e("div",ws,[(s(!0),o(S,null,B(i(n).images,(u,w)=>(s(),o("button",{key:`thumb-${w}`,onClick:_e=>W(w),class:x(["flex-shrink-0 w-14 h-14 rounded-lg overflow-hidden border-2 transition-all duration-200",T.value===w?"border-blue-500 scale-105":"border-gray-200"])},[e("img",{src:u,alt:`Thumbnail ${w+1}`,class:"w-full h-full object-cover"},null,8,_s)],10,ks))),128))])])):m("",!0)]),e("div",Cs,[e("div",$s,[e("div",Is,[e("span",Ms,[h.value?(s(),o("span",Ts,d((M=i(j)(O()))==null?void 0:M.formattedAmount),1)):(s(),o("span",js,"From "+d((b=i(j)(I(i(n))))==null?void 0:b.formattedAmount),1))]),e("span",null,d((q=i(n))==null?void 0:q.promotionText),1),h.value&&_.value>1?(s(),o("span",As," × "+d(_.value),1)):m("",!0)]),h.value&&_.value>1?(s(),o("div",Ps," Total: "+d((L=i(j)(U()))==null?void 0:L.formattedAmount),1)):m("",!0)]),e("div",Ss,[t[18]||(t[18]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Select Size",-1)),e("div",Bs,[(s(!0),o(S,null,B(i(n).sizes,u=>{var w;return s(),o("button",{key:u._id,onClick:_e=>h.value=u._id,class:x(["relative p-4 border-2 rounded-xl transition-all duration-200",h.value===u._id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300"])},[e("div",zs,[e("div",Fs,[e("div",Ls,d(u.size.toUpperCase()),1),e("div",Es,[ne(d((w=i(j)(u.price))==null?void 0:w.formattedAmount)+" ",1),ge(u)?(s(),o("span",Ds," or "+d(je(u))+"/mo* ",1)):m("",!0)])]),h.value===u._id?(s(),o("div",Os,t[17]||(t[17]=[e("svg",{class:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):m("",!0)])],10,Rs)}),128))])]),e("div",Us,[t[21]||(t[21]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Quantity",-1)),e("div",Ns,[e("div",Hs,[e("button",{onClick:ke,disabled:_.value<=1,class:"w-10 h-10 rounded-lg bg-white shadow-sm flex items-center justify-center disabled:opacity-50 hover:bg-gray-50 transition-colors"},t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,qs),e("div",Vs,d(_.value),1),e("button",{onClick:se,class:"w-10 h-10 rounded-lg bg-white shadow-sm flex items-center justify-center hover:bg-gray-50 transition-colors"},t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]))])])]),e("div",Gs,[e("button",{onClick:Te,disabled:!h.value,class:"w-full bg-blue-600 text-sm hover:bg-blue-700 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200"},[h.value?(s(),o("span",Xs,"Add to Cart • "+d((de=i(j)(U()))==null?void 0:de.formattedAmount),1)):(s(),o("span",Qs,"Select Size to Continue"))],8,Ws)]),e("div",Ys,[e("div",Zs,[e("button",{onClick:t[1]||(t[1]=u=>re("reviews")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[e("div",Js,[t[23]||(t[23]=e("h3",{class:"text-base font-semibold text-gray-900"},"Customer Reviews",-1)),i(n).reviewCount>0?(s(),o("div",Ks,[e("div",eo,[(s(),o(S,null,B(5,u=>e("svg",{key:u,class:x(["w-4 h-4",u<=Math.round(i(n).rating)?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[22]||(t[22]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",to,"("+d(i(n).reviewCount)+")",1)])):m("",!0)]),(s(),o("svg",{class:x(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.reviews}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[24]||(t[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:x(["overflow-hidden transition-all duration-300",l.reviews?"max-h-96 opacity-100":"max-h-0 opacity-0"])},[e("div",so,[X.value.length>0?(s(),o("div",oo,[(s(!0),o(S,null,B(X.value.slice(0,3),u=>(s(),o("div",{key:u.id,class:"border-b border-gray-100 pb-4 last:border-b-0"},[e("div",lo,[e("div",no,[e("div",ao,[(s(),o(S,null,B(5,w=>e("svg",{key:w,class:x(["w-4 h-4",w<=u.rating?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[25]||(t[25]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",ro,d(u.userName.split("@")[0]),1)]),e("span",io,d(Be(u.createdAt)),1)]),e("p",uo,d(u.comment),1)]))),128)),X.value.length>3?(s(),o("div",co,[e("button",mo," View all "+d(X.value.length)+" reviews ",1)])):m("",!0)])):(s(),o("div",vo,[t[26]||(t[26]=e("div",{class:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),t[27]||(t[27]=e("h4",{class:"text-base font-medium text-gray-900 mb-2"},"No reviews yet",-1)),t[28]||(t[28]=e("p",{class:"text-sm text-gray-600 mb-4"},"Be the first to share your thoughts about this product.",-1)),e("button",{onClick:Pe,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors"}," Write a Review ")]))])],2)])]),e("div",go,[i(n).productInfo?(s(),o("div",ho,[e("button",{onClick:t[2]||(t[2]=u=>re("productInfo")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[t[30]||(t[30]=e("h3",{class:"text-base font-semibold text-gray-900"},"Product Details",-1)),(s(),o("svg",{class:x(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.productInfo}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[29]||(t[29]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:x(["overflow-hidden transition-all duration-300",l.productInfo?"max-h-60 opacity-100":"max-h-0 opacity-0"])},[e("div",fo,[e("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:i(n).productInfo},null,8,po)])],2)])):m("",!0),i(n).shippingInfo?(s(),o("div",yo,[e("button",{onClick:t[3]||(t[3]=u=>re("shippingInfo")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[t[32]||(t[32]=e("h3",{class:"text-base font-semibold text-gray-900"},"Shipping Information",-1)),(s(),o("svg",{class:x(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.shippingInfo}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[31]||(t[31]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:x(["overflow-hidden transition-all duration-300",l.shippingInfo?"max-h-60 opacity-100":"max-h-0 opacity-0"])},[e("div",bo,[e("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:i(n).shippingInfo},null,8,xo)])],2)])):m("",!0)])])])]),e("div",wo,[e("div",ko,[e("div",_o,[e("div",Co,[e("div",$o,[Z(Ce,{name:"image-fade",tag:"div",class:"relative w-full h-full"},{default:le(()=>[(s(!0),o(S,null,B(i(n).images,(u,w)=>oe((s(),o("div",{key:`desktop-image-${w}`,class:"absolute inset-0 flex items-center justify-center p-8"},[e("img",{src:u,alt:`${i(n).name} - view ${w+1}`,class:"max-w-full max-h-full object-contain hover:scale-105 transition-transform duration-300"},null,8,Io)])),[[$e,w===T.value]])),128))]),_:1})]),i(n).images.length>1?(s(),o("div",Mo,[e("button",{onClick:ie,class:"ml-4 p-3 rounded-full bg-white/90 shadow-lg transition-all duration-200 pointer-events-auto hover:scale-110"},t[33]||(t[33]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("button",{onClick:te,class:"mr-4 p-3 rounded-full bg-white/90 shadow-lg transition-all duration-200 pointer-events-auto hover:scale-110"},t[34]||(t[34]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])):m("",!0)])]),i(n).images.length>1?(s(),o("div",jo,[e("div",To,[(s(!0),o(S,null,B(i(n).images,(u,w)=>(s(),o("button",{key:`desktop-thumb-${w}`,onClick:_e=>W(w),class:x(["flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all duration-200",T.value===w?"border-blue-500 scale-110":"border-gray-200 hover:border-gray-300"])},[e("img",{src:u,alt:`Thumbnail ${w+1}`,class:"w-full h-full object-cover"},null,8,Po)],10,Ao))),128))])])):m("",!0)]),e("div",So,[e("div",Bo,[e("div",Ro,[e("div",zo,[e("span",Fo,[h.value?(s(),o("span",Eo,d((Re=i(j)(O()))==null?void 0:Re.formattedAmount),1)):(s(),o("span",Lo,"From "+d((ue=i(j)(I(i(n))))==null?void 0:ue.formattedAmount),1))]),h.value&&_.value>1?(s(),o("span",Do," × "+d(_.value),1)):m("",!0)]),h.value&&_.value>1?(s(),o("div",Oo," Total: "+d((ze=i(j)(U()))==null?void 0:ze.formattedAmount),1)):m("",!0)]),e("div",Uo,[t[36]||(t[36]=e("h3",{class:"text-base font-semibold text-gray-900 mb-4"},"Select Size",-1)),e("div",No,[(s(!0),o(S,null,B(i(n).sizes,u=>{var w;return s(),o("button",{key:u._id,onClick:_e=>h.value=u._id,class:x(["relative p-4 border-2 rounded-xl transition-all duration-200",h.value===u._id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300"])},[e("div",qo,[e("div",Vo,[e("div",Go,d(u.size.toUpperCase()),1),e("div",Wo,[ne(d((w=i(j)(u.price))==null?void 0:w.formattedAmount)+" ",1),ge(u)?(s(),o("span",Qo," or "+d(je(u))+"/mo* ",1)):m("",!0)])]),h.value===u._id?(s(),o("div",Xo,t[35]||(t[35]=[e("svg",{class:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):m("",!0)])],10,Ho)}),128))])]),e("div",Yo,[t[39]||(t[39]=e("h3",{class:"text-base font-semibold text-gray-900 mb-4"},"Quantity",-1)),e("div",Zo,[e("div",Jo,[e("button",{onClick:ke,disabled:_.value<=1,class:"w-12 h-12 rounded-lg bg-white shadow-sm flex items-center justify-center disabled:opacity-50 hover:bg-gray-50 transition-colors"},t[37]||(t[37]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Ko),e("div",el,d(_.value),1),e("button",{onClick:se,class:"w-12 h-12 rounded-lg bg-white shadow-sm flex items-center justify-center hover:bg-gray-50 transition-colors"},t[38]||(t[38]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]))])])]),e("div",tl,[e("button",{onClick:Te,disabled:!h.value,class:"w-full bg-blue-600 text-sm hover:bg-blue-700 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200"},[h.value?(s(),o("span",ll,"Add to Cart • "+d((Fe=i(j)(U()))==null?void 0:Fe.formattedAmount),1)):(s(),o("span",ol,"Select Size to Continue"))],8,sl)]),e("div",nl,[e("div",al,[e("button",{onClick:t[4]||(t[4]=u=>re("reviews")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[e("div",rl,[t[41]||(t[41]=e("h3",{class:"text-base font-semibold text-gray-900"},"Customer Reviews",-1)),i(n).reviewCount>0?(s(),o("div",il,[e("div",dl,[(s(),o(S,null,B(5,u=>e("svg",{key:u,class:x(["w-4 h-4",u<=Math.round(i(n).rating)?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[40]||(t[40]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",ul,"("+d(i(n).reviewCount)+")",1)])):m("",!0)]),(s(),o("svg",{class:x(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.reviews}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[42]||(t[42]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:x(["overflow-hidden transition-all duration-300",l.reviews?"max-h-96 opacity-100":"max-h-0 opacity-0"])},[e("div",cl,[X.value.length>0?(s(),o("div",ml,[(s(!0),o(S,null,B(X.value.slice(0,3),u=>(s(),o("div",{key:u.id,class:"border-b border-gray-100 pb-4 last:border-b-0"},[e("div",vl,[e("div",gl,[e("div",hl,[(s(),o(S,null,B(5,w=>e("svg",{key:w,class:x(["w-4 h-4",w<=u.rating?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[43]||(t[43]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",fl,d(u.userName.split("@")[0]),1)]),e("span",pl,d(Be(u.createdAt)),1)]),e("p",yl,d(u.comment),1)]))),128)),X.value.length>3?(s(),o("div",bl,[e("button",xl," View all "+d(X.value.length)+" reviews ",1)])):m("",!0)])):(s(),o("div",wl,[t[44]||(t[44]=e("div",{class:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),t[45]||(t[45]=e("h4",{class:"text-base font-medium text-gray-900 mb-2"},"No reviews yet",-1)),t[46]||(t[46]=e("p",{class:"text-sm text-gray-600 mb-4"},"Be the first to share your thoughts about this product.",-1)),e("button",{onClick:Pe,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors"}," Write a Review ")]))])],2)])]),e("div",kl,[i(n).productInfo?(s(),o("div",_l,[e("button",{onClick:t[5]||(t[5]=u=>re("productInfo")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[t[48]||(t[48]=e("h3",{class:"text-base font-semibold text-gray-900"},"Product Details",-1)),(s(),o("svg",{class:x(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.productInfo}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[47]||(t[47]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:x(["overflow-hidden transition-all duration-300",l.productInfo?"max-h-60 opacity-100":"max-h-0 opacity-0"])},[e("div",Cl,[e("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:i(n).productInfo},null,8,$l)])],2)])):m("",!0),i(n).shippingInfo?(s(),o("div",Il,[e("button",{onClick:t[6]||(t[6]=u=>re("shippingInfo")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[t[50]||(t[50]=e("h3",{class:"text-base font-semibold text-gray-900"},"Shipping Information",-1)),(s(),o("svg",{class:x(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.shippingInfo}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[49]||(t[49]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:x(["overflow-hidden transition-all duration-300",l.shippingInfo?"max-h-60 opacity-100":"max-h-0 opacity-0"])},[e("div",Ml,[e("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:i(n).shippingInfo},null,8,jl)])],2)])):m("",!0)])])])])])])])):m("",!0)]}),_:1}),Z(pe,{name:"review-button-fade"},{default:le(()=>[a.isOpen&&i(n)?(s(),o("div",Tl,[e("button",{onClick:t[7]||(t[7]=b=>g.value=!0),class:"group bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 active:scale-95 transition-all duration-300 animate-bounce-slow"},t[51]||(t[51]=[e("svg",{class:"w-6 h-6 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1),e("div",{class:"absolute -top-2 -right-2 w-3 h-3 bg-red-500 rounded-full animate-pulse"},null,-1)])),t[52]||(t[52]=e("div",{class:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap"}," Write a Review ",-1))])):m("",!0)]),_:1}),Z(pe,{name:"review-modal-fade"},{default:le(()=>[g.value?(s(),o("div",Al,[e("div",Pl,[e("div",{class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between"},[t[54]||(t[54]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Write a Review",-1)),e("button",{onClick:he,class:"p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close review modal"},t[53]||(t[53]=[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Sl,[e("form",{onSubmit:ce(Qe,["prevent"]),class:"space-y-6"},[e("div",Bl,[e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[ne(" Name* "),e("span",{class:"text-gray-500"},"(this appears publicly)")],-1)),oe(e("input",{"onUpdate:modelValue":t[8]||(t[8]=b=>$.name=b),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Your name"},null,512),[[fe,$.name]])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[ne(" Email* "),e("span",{class:"text-gray-500"},"(this will be kept private)")],-1)),oe(e("input",{"onUpdate:modelValue":t[9]||(t[9]=b=>$.email=b),type:"email",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"your@email.com"},null,512),[[fe,$.email]])])]),e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Add a rating*",-1)),e("div",Rl,[(s(),o(S,null,B(5,b=>e("button",{key:b,type:"button",onClick:M=>Ne(b),onMouseover:M=>H.value=b,onMouseleave:t[10]||(t[10]=M=>H.value=0),class:"p-1 transition-transform duration-200 hover:scale-110"},[(s(),o("svg",{class:x(["w-8 h-8 transition-colors duration-200",b<=(H.value||$.rating)?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[57]||(t[57]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2))],40,zl)),64))])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Review title*",-1)),oe(e("input",{"onUpdate:modelValue":t[11]||(t[11]=b=>$.title=b),type:"text",required:"",maxlength:"100",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Give your review a title"},null,512),[[fe,$.title]]),e("div",Fl,d($.title.length)+"/100",1)]),e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Review*",-1)),oe(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=b=>$.comment=b),required:"",rows:"6",maxlength:"500",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Share your thoughts about this product..."},null,512),[[fe,$.comment]]),e("div",Ll,d($.comment.length)+"/500",1)]),e("div",null,[e("label",El," Add images & videos ("+d(P.value.length)+"/3) ",1),e("div",{onClick:He,onDragover:t[13]||(t[13]=ce(()=>{},["prevent"])),onDrop:ce(Ve,["prevent"]),class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all duration-200"},t[61]||(t[61]=[e("div",{class:"w-12 h-12 mx-auto mb-4 text-gray-400"},[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",class:"w-full h-full"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),e("p",{class:"text-sm text-gray-600"},"Click to upload or drag and drop",-1),e("p",{class:"text-xs text-gray-500 mt-1"},"PNG, JPG, GIF up to 10MB",-1)]),32),e("input",{ref_key:"fileInput",ref:J,type:"file",multiple:"",accept:"image/*,video/*",onChange:qe,class:"hidden",disabled:i(E)},null,40,Dl),P.value.length>0?(s(),o("div",Ol,[(s(!0),o(S,null,B(P.value,(b,M)=>(s(),o("div",{key:M,class:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden"},[e("img",{src:b.preview,alt:`Upload ${M+1}`,class:"w-full h-full object-cover"},null,8,Ul),b.uploading?(s(),o("div",Nl,t[62]||(t[62]=[e("div",{class:"text-white text-center"},[e("svg",{class:"animate-spin w-8 h-8 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),e("span",{class:"text-xs"},"Uploading...")],-1)]))):m("",!0),b.uploaded?(s(),o("div",Hl,t[63]||(t[63]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):m("",!0),e("button",{onClick:q=>We(M),disabled:b.uploading,class:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},t[64]||(t[64]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ql)]))),128))])):m("",!0)]),e("div",Vl,[e("button",{type:"button",onClick:he,class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200"}," Cancel "),e("button",{type:"submit",disabled:!ve.value||A.value||i(E)||r.value.size>0,class:"px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center space-x-2"},[A.value?(s(),o("span",Wl,t[65]||(t[65]=[e("svg",{class:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):m("",!0),e("span",null,d(i(E)||r.value.size>0?"Uploading files...":A.value?"Publishing...":"Publish"),1)],8,Gl)])],32)])])])):m("",!0)]),_:1}),Z(es,{"is-open":N.value,"cart-item":y.value,"on-close":Ae,"on-proceed":Ue},null,8,["is-open","cart-item"])]))}}),Xl=we(Ql,[["__scopeId","data-v-e7e229b0"]]),Yl={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-gray-50"},Zl={class:"container mx-auto px-6"},Jl={key:0,class:"flex justify-center items-center py-20"},Kl={key:1,class:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 lg:gap-8"},en=["onMouseenter","onMouseleave","onClick"],tn={class:"relative overflow-hidden bg-white rounded-2xl shadow-lg group-hover:shadow-2xl transition-all duration-700"},sn={key:0,class:"absolute top-4 left-4 z-10"},on={class:"bg-white/95 backdrop-blur-sm text-gray-900 text-xs px-3 py-2 font-medium rounded-full shadow-lg"},ln={class:"aspect-[3/4] overflow-hidden"},nn=["src","alt","onLoad","onError"],an={key:1,class:"absolute inset-0 bg-gray-100 flex items-center justify-center"},rn={class:"pt-6 text-center space-y-3"},dn={class:"text-base font-medium text-gray-900 tracking-wide group-hover:text-gray-700 transition-colors"},un={class:"text-gray-600 font-light"},cn={key:0},mn={class:"text-sm"},vn={class:"pt-4 transform translate-y-2 group-hover:translate-y-0 transition-all duration-500"},gn=["onClick"],hn=be({__name:"shop",setup(V){const{fetchContentByType:R,loading:E,content:D}=it(),{userCurrency:C,exchangeRates:z,initializeUserCurrency:j,convertFromUSD:n}=Me(),p=v({});v("USD");const ee=v("NGN");v(null),me(()=>Object.keys(z.value).sort()),xe(async()=>{await R("shop_prints_hero"),await j(),F()}),ae([C,z],()=>{F()});const F=()=>{C.value&&Object.keys(z.value).length>0&&(p.value=n(100))};ae(C,c=>{ee.value=c}),Oe(),at();const h=ot(),_=v(!1),T=v(null);v([]),v(!0);const N=ye({}),y=ye({}),{products:f,loading:Q}=nt(),G=c=>{console.log(c,"opening modal for product"),T.value=c,h.push({query:{...h.currentRoute.value.query,productId:c}}),_.value=!0},l=()=>{_.value=!1,T.value=null;const c={...h.currentRoute.value.query};delete c.productId,h.push({query:c})},r=c=>{console.log("Item added to cart from modal:",c)},g=c=>c.isFeatured?"Featured":c.isNew?"New Arrival":c.isBestseller?"Best Seller":null,A=c=>{let k=0;return c.sizes&&c.sizes.length>0?k=Math.min(...c.sizes.map(K=>K.price)):k=c.price||0,n(k).formattedAmount||k},H=c=>!c.sizes||c.sizes.length===0?!1:c.sizes.some(k=>k.installmentConfig&&k.installmentConfig.enabled&&k.price>=(k.installmentConfig.minimumAmount||0)),J=c=>{if(!c.sizes||c.sizes.length===0)return"0";const k=c.sizes.filter(W=>W.installmentConfig&&W.installmentConfig.enabled&&W.price>=(W.installmentConfig.minimumAmount||0));if(k.length===0)return"0";const Y=k.reduce((W,te)=>te.price<W.price?te:W),K=Y.installmentConfig,I=Y.price,O=Math.min(...K.availableTerms),U=K.interestRate/100/12;let se;return U>0?se=I*U*Math.pow(1+U,O)/(Math.pow(1+U,O)-1):se=I/O,n(se).formattedAmount||Math.round(se).toString()},P=(c,k)=>!c||!c.images||c.images.length===0?"":y[k]&&c.images.length>1?c.images[1]:c.images[0],$=(c,k)=>{y[c]=k},X=c=>{N[c]=!1},ve=c=>{N[c]=!1};return ae(()=>f.value,c=>{c&&c.forEach((k,Y)=>{N[Y]=!0,y[Y]=!1})},{immediate:!0}),(c,k)=>{var K;const Y=Ct;return s(),o("div",Yl,[Z(Y,{class:"mb-10",loading:i(E),content:i(D),images:(K=i(D))==null?void 0:K.images},null,8,["loading","content","images"]),e("div",Zl,[k[3]||(k[3]=e("div",{class:"text-center mb-16 animate-fade-in-up"},[e("h2",{class:"text-4xl font-light text-gray-900 mb-4"},"Curated Collection"),e("div",{class:"w-24 h-1 bg-gradient-to-r from-gray-400 to-gray-600 mx-auto rounded-full"}),e("p",{class:"text-gray-600 mt-6 max-w-2xl mx-auto"},"Each piece tells a story, crafted with precision and passion to bring art into your space.")],-1)),i(Q)?(s(),o("div",Jl,k[0]||(k[0]=[lt('<div class="relative" data-v-f7e0bd8f><div class="animate-spin rounded-full h-20 w-20 border-4 border-gray-200" data-v-f7e0bd8f></div><div class="animate-spin rounded-full h-20 w-20 border-4 border-gray-900 border-t-transparent absolute top-0 left-0" data-v-f7e0bd8f></div><div class="absolute inset-0 flex items-center justify-center" data-v-f7e0bd8f><div class="w-8 h-8 bg-gray-900 rounded-full animate-pulse" data-v-f7e0bd8f></div></div></div>',1)]))):(s(),o("div",Kl,[(s(!0),o(S,null,B(i(f),(I,O)=>(s(),o("div",{key:I._id,class:"product-card group cursor-pointer animate-fade-in-up",style:Ie({animationDelay:`${O*100}ms`}),onMouseenter:U=>$(O,!0),onMouseleave:U=>$(O,!1),onClick:U=>G(I._id)},[e("div",tn,[g(I)?(s(),o("div",sn,[e("span",on,d(g(I)),1)])):m("",!0),e("div",ln,[e("img",{src:P(I,O),alt:I.name,class:"w-full h-full transition-all duration-700 group-hover:scale-110",onLoad:U=>X(O),onError:U=>ve(O)},null,40,nn)]),N[O]?(s(),o("div",an,k[1]||(k[1]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-gray-600"},null,-1)]))):m("",!0),k[2]||(k[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500 flex items-end justify-center pb-8"},[e("div",{class:"transform translate-y-4 group-hover:translate-y-0 transition-all duration-500"},[e("span",{class:"text-white text-lg font-medium tracking-wide"},"Quick View"),e("div",{class:"w-16 h-0.5 bg-white mx-auto mt-2 scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})])],-1))]),e("div",rn,[e("h3",dn,d((I==null?void 0:I.name)??"Nil"),1),e("p",un,[ne(" From "+d(A(I))+" ",1),H(I)?(s(),o("span",cn," or "+d(J(I))+"/month ",1)):m("",!0)]),e("p",mn,d(I==null?void 0:I.promotionText),1),e("div",vn,[e("button",{class:"w-full bg-gray-900 text-white py-2.5 text-sm px-6 rounded-xl font-medium hover:bg-gray-800 transition-all duration-300 hover:scale-105 shadow-lg",onClick:ce(U=>i(h).push(`/artworks/${I._id}`),["stop"])}," Add to Cart ",8,gn)])])],44,en))),128))]))]),Z(Xl,{"is-open":_.value,"product-id":T.value,"on-close":l,"on-add-to-cart":r},null,8,["is-open","product-id"])])}}}),_n=we(hn,[["__scopeId","data-v-f7e0bd8f"]]);export{_n as default};
