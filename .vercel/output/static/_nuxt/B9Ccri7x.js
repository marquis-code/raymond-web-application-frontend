import{_ as de}from"./DMLWK-ld.js";import{e as K,r as l,f as D,g as W,q as Y,c as r,b as E,a as t,w as Q,s as me,m as B,t as k,T as ge,F as H,k as q,v as ve,o as i,i as I,x as Z,y as ee,n as G,_ as te,h as R,u as he,z as J,l as z,d as fe,A as pe}from"./BwJozHpm.js";import{u as ye}from"./DC6vcLwC.js";import{u as _e}from"./DI0YZq9W.js";import{u as xe,_ as be}from"./DBv70p4Y.js";import{u as we}from"./dKw-Mcfq.js";import{u as $e}from"./Bgn7Xgey.js";import"./OoJFqcOP.js";import"./rBZ0Ec4d.js";const Ce={key:0,class:"loading-overlay"},ke={class:"mx-auto max-w-7xl px-6 lg:px-8"},Me={class:"mx-auto grid grid-cols-1 gap-x-12 gap-y-16 lg:grid-cols-12"},Pe={class:"text-5xl font-light tracking-tight text-gray-900 sm:text-6xl mb-8"},Se={class:"block text-reveal",style:{"--delay":"0.2s"}},Ae={class:"space-y-6 text-gray-600 leading-relaxed"},Te={class:"text-lg leading-loose text-reveal",style:{"--delay":"0.6s"}},Ie={class:"featured-image-container"},Ee=["onMouseenter"],Le=["src","alt","onLoad","onError"],Ne={class:"thumbnails-container"},Fe=["onMouseenter"],Re=["src","alt"],ze={key:1,class:"lg:col-span-7 flex items-center justify-center h-96 bg-gray-100 rounded-3xl"},je=K({__name:"PrintsHeroSection",props:{images:{},content:{},loading:{}},setup(V){const b=V,M=l([]),y=l(0),v=l(!1),S=l(-1),P=l(!1),w=l({x:0,y:0}),m=D(()=>!(b!=null&&b.images)||!Array.isArray(b.images)?[]:b.images.map((o,n)=>({id:n,src:o,alt:`Art print ${n+1}`,aspectRatio:"4:3"}))),j=o=>{M.value.includes(o)||M.value.push(o),M.value.length===m.value.length&&m.value.length>0&&setTimeout(()=>{Y(()=>{setTimeout(()=>{P.value=!0},300)})},500)},A=()=>{m.value.length!==0&&ve(()=>{!v.value&&m.value.length>0&&(y.value=(y.value+1)%m.value.length)},4e3)},L=o=>{v.value=!0,S.value=o,y.value=o},N=()=>{v.value=!1,S.value=-1},F=o=>{const n=o.currentTarget.getBoundingClientRect();w.value={x:((o.clientX-n.left)/n.width-.5)*2,y:((o.clientY-n.top)/n.height-.5)*2}};W(()=>{Y(()=>{m.value.length>0&&A()})});const $=o=>{const n=.2*o,p=w.value.x*(5+o*2),_=w.value.y*(3+o*1.5);return{"--delay":`${n}s`,transform:`translate(${p}px, ${_}px)`}};return(o,n)=>{var p,_;return i(),r("div",{class:"hero-section overflow-hidden pt-20 mt-16 relative",onMousemove:F},[E(me,{name:"fade"},{default:Q(()=>[o.loading?(i(),r("div",Ce,n[2]||(n[2]=[t("div",{class:"loader"},[t("div",{class:"loader-circle"},[t("div",{class:"circle-path"})]),t("span",{class:"loader-text"},"Loading artwork")],-1)]))):I("",!0)]),_:1}),t("div",ke,[t("div",Me,[t("div",{class:B(["lg:col-span-5 lg:pb-8 content-section",{"animate-content":!o.loading}])},[t("h2",Pe,[t("span",Se,k(((p=o.content)==null?void 0:p.title)||"Art Gallery"),1)]),t("div",Ae,[t("p",Te,k(((_=o.content)==null?void 0:_.description)||"Discover our curated collection of stunning art prints."),1)])],2),m.value.length>0?(i(),r("div",{key:0,class:B(["lg:col-span-7 gallery-container",{"gallery-ready":P.value}])},[t("div",Ie,[E(ge,{name:"image-transition",tag:"div"},{default:Q(()=>[(i(!0),r(H,null,q(m.value,(c,h)=>Z((i(),r("div",{key:c.id,class:"featured-image",style:G($(h)),onMouseenter:x=>L(h),onMouseleave:n[0]||(n[0]=x=>N())},[t("img",{src:c.src,alt:c.alt,onLoad:x=>j(c.id),onError:x=>console.warn("Failed to load image:",c.src),class:"rounded-3xl object-cover shadow-2xl transition-all duration-700 hover:shadow-3xl hover:scale-105"},null,40,Le),n[3]||(n[3]=t("div",{class:"image-overlay"},null,-1))],44,Ee)),[[ee,y.value===h||S.value===h]])),128))]),_:1})]),t("div",Ne,[(i(!0),r(H,null,q(m.value,(c,h)=>(i(),r("div",{key:`thumb-${c.id}`,class:B(["thumbnail",{active:y.value===h}]),onMouseenter:x=>L(h),onMouseleave:n[1]||(n[1]=x=>N()),style:G({"--thumb-delay":`${1.2+h*.1}s`})},[t("img",{src:c.src,alt:`Thumbnail for ${c.alt}`,class:"rounded-lg object-cover"},null,8,Re)],46,Fe))),128))]),n[4]||(n[4]=t("div",{class:"decorative-elements"},[t("div",{class:"floating-element element-1"}),t("div",{class:"floating-element element-2"}),t("div",{class:"floating-element element-3"})],-1))],2)):(i(),r("div",ze,n[5]||(n[5]=[t("p",{class:"text-gray-500"},"No images available",-1)])))])])],32)}}}),Be=te(je,[["__scopeId","data-v-1789855d"]]),De={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-gray-50"},He={class:"container mx-auto px-3 lg:px-6"},qe={class:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3"},Ge=["onMouseenter","onMouseleave","onClick"],Ve={class:"bg-white rounded-2xl shadow-lg group-hover:shadow-2xl transition-all duration-700 h-[500px] flex flex-col"},Oe={class:"relative overflow-hidden rounded-t-2xl flex-1"},Ue={key:0,class:"absolute top-4 left-4 z-10"},Xe={class:"bg-white/95 backdrop-blur-sm text-gray-900 text-xs px-3 py-2 font-medium rounded-full shadow-lg"},Ye={class:"overflow-hidden h-full"},Qe=["src","alt","onLoad","onError"],Je={key:1,class:"absolute inset-0 bg-gray-100 flex items-center justify-center"},Ke={class:"p-6 flex flex-col justify-between flex-shrink-0"},We={class:"text-center mb-4"},Ze={class:"text-lg font-medium text-gray-900 tracking-wide mb-2"},et={class:"text-gray-600 font-light mb-2 text-sm"},tt={key:0},st={key:0,class:"text-gray-500 text-xs mb-4"},nt=["onClick"],ot=K({__name:"shop",setup(V){const{fetchContentByType:b,loading:M,content:y}=$e(),v=l(!0),S=()=>{v.value=!1},{userCurrency:P,exchangeRates:w,isLoading:m,initializeUserCurrency:j,convertFromUSD:A}=we(),L=l({});l("USD");const N=l("NGN");l(null),D(()=>Object.keys(w.value).sort()),W(async()=>{await b("shop_prints_hero"),await j(),F()}),R([P,w],()=>{F()});const F=()=>{P.value&&Object.keys(w.value).length>0&&(L.value=A(100))};R(P,e=>{N.value=e}),_e(),xe();const $=he(),o=l(!1),n=l(null);l([]),l(!0);const p=J({}),_=J({}),{products:c,loading:h}=ye();R([h,M,m],([e,s,u])=>{const g=e||s||u;!g&&v.value?setTimeout(()=>{v.value=!1},1500):g&&(v.value=!0)});const x=D(()=>c.value?[...c.value].filter(e=>e.isAvailable!==!1).sort((e,s)=>{const u=e.position??Number.MAX_SAFE_INTEGER,g=s.position??Number.MAX_SAFE_INTEGER;return u-g}):[]),se=e=>{console.log(e,"opening modal for product"),n.value=e,$.push({query:{...$.currentRoute.value.query,productId:e}}),o.value=!0},ne=()=>{o.value=!1,n.value=null;const e={...$.currentRoute.value.query};delete e.productId,$.push({query:e})},oe=e=>{console.log("Item added to cart from modal:",e)},O=e=>e.isFeatured?"Featured":e.isNew?"New Arrival":e.isBestseller?"Best Seller":null,ae=e=>{let s=0;return e.sizes&&e.sizes.length>0?s=Math.min(...e.sizes.map(g=>g.price)):s=e.price||0,A(s).formattedAmount||s},le=e=>!e.sizes||e.sizes.length===0?!1:e.sizes.some(s=>s.installmentConfig&&s.installmentConfig.enabled&&s.price>=(s.installmentConfig.minimumAmount||0)),re=e=>{if(!e.sizes||e.sizes.length===0)return"0";const s=e.sizes.filter(C=>C.installmentConfig&&C.installmentConfig.enabled&&C.price>=(C.installmentConfig.minimumAmount||0));if(s.length===0)return"0";const u=s.reduce((C,X)=>X.price<C.price?X:C),g=u.installmentConfig,T=u.price,a=Math.min(...g.availableTerms),d=g.interestRate/100/12;let f;return d>0?f=T*d*Math.pow(1+d,a)/(Math.pow(1+d,a)-1):f=T/a,A(f).formattedAmount||Math.round(f).toString()},ie=(e,s)=>!e||!e.images||e.images.length===0?"":_[s]&&e.images.length>1?e.images[1]:e.images[0],U=(e,s)=>{_[e]=s},ce=e=>{p[e]=!1},ue=e=>{p[e]=!1};return R(()=>x.value,e=>{e&&e.forEach((s,u)=>{p[u]=!0,_[u]=!1})},{immediate:!0}),(e,s)=>{var T;const u=de,g=Be;return i(),r("div",De,[E(u,{show:v.value,duration:0,"loading-message":"Loading curated collection...",onHide:S},null,8,["show"]),Z(t("div",null,[E(g,{class:"mb-10",loading:z(M),content:z(y),images:(T=z(y))==null?void 0:T.images},null,8,["loading","content","images"]),t("div",He,[s[3]||(s[3]=t("div",{class:"text-center mb-16 animate-fade-in-up"},[t("h2",{class:"text-4xl font-light text-gray-900 mb-4"},"Curated Collection"),t("div",{class:"w-24 h-1 bg-gradient-to-r from-gray-400 to-gray-600 mx-auto rounded-full"}),t("p",{class:"text-gray-600 mt-6 max-w-2xl mx-auto"}," Each piece tells a story, crafted with precision and passion to bring art into your space. ")],-1)),t("div",qe,[(i(!0),r(H,null,q(x.value,(a,d)=>(i(),r("div",{key:a._id,class:"product-card group cursor-pointer animate-fade-in-up",style:G({animationDelay:`${d*100}ms`}),onMouseenter:f=>U(d,!0),onMouseleave:f=>U(d,!1),onClick:f=>se(a._id)},[t("div",Ve,[t("div",Oe,[O(a)?(i(),r("div",Ue,[t("span",Xe,k(O(a)),1)])):I("",!0),t("div",Ye,[t("img",{src:ie(a,d),alt:a.name,class:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110",onLoad:f=>ce(d),onError:f=>ue(d)},null,40,Qe)]),p[d]?(i(),r("div",Je,s[0]||(s[0]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-gray-600"},null,-1)]))):I("",!0),s[1]||(s[1]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-transparent via-transparent to-black/20 opacity-0 group-hover:opacity-100 transition-all duration-500 flex items-center justify-center"},[t("div",{class:"transform translate-y-4 group-hover:translate-y-0 transition-all duration-500 opacity-0 group-hover:opacity-100"},[t("span",{class:"text-white text-lg font-medium tracking-wide"},"Quick View"),t("div",{class:"w-16 h-0.5 bg-white mx-auto mt-2 scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})])],-1))]),t("div",Ke,[t("div",We,[t("h3",Ze,k((a==null?void 0:a.name)??"Nil"),1),s[2]||(s[2]=t("div",{class:"w-8 h-0.5 bg-gray-900 mx-auto mb-4"},null,-1)),t("p",et,[fe(" From "+k(ae(a))+" ",1),le(a)?(i(),r("span",tt," or "+k(re(a))+"/month ",1)):I("",!0)]),a!=null&&a.promotionText?(i(),r("p",st,k(a==null?void 0:a.promotionText),1)):I("",!0)]),t("button",{class:"w-full bg-gray-900 text-white py-3 text-sm px-6 rounded-xl font-medium hover:bg-gray-800 transition-all duration-300 hover:scale-105 shadow-lg",onClick:pe(f=>z($).push(`/artworks/${a._id}`),["stop"])}," Add to Cart ",8,nt)])])],44,Ge))),128))])]),E(be,{"is-open":o.value,"product-id":n.value,"on-close":ne,"on-add-to-cart":oe},null,8,["is-open","product-id"])],512),[[ee,!v.value]])])}}}),ht=te(ot,[["__scopeId","data-v-06272f48"]]);export{ht as default};
