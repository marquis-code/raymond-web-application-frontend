import{r as u,f as i,P as y}from"./8_-c8HVq.js";const a={US:{code:"USD",symbol:"$",name:"US Dollar"},CN:{code:"CNY",symbol:"¥",name:"Chinese Yuan"},GB:{code:"GBP",symbol:"£",name:"British Pound"},JP:{code:"JPY",symbol:"¥",name:"Japanese Yen"},DE:{code:"EUR",symbol:"€",name:"Euro"},FR:{code:"EUR",symbol:"€",name:"Euro"},IT:{code:"EUR",symbol:"€",name:"Euro"},ES:{code:"EUR",symbol:"€",name:"Euro"},CA:{code:"CAD",symbol:"C$",name:"Canadian Dollar"},AU:{code:"AUD",symbol:"A$",name:"Australian Dollar"},IN:{code:"INR",symbol:"₹",name:"Indian Rupee"},BR:{code:"BRL",symbol:"R$",name:"Brazilian Real"},RU:{code:"RUB",symbol:"₽",name:"Russian Ruble"},KR:{code:"KRW",symbol:"₩",name:"South Korean Won"},MX:{code:"MXN",symbol:"$",name:"Mexican Peso"},ZA:{code:"ZAR",symbol:"R",name:"South African Rand"},NG:{code:"NGN",symbol:"₦",name:"Nigerian Naira"},EG:{code:"EGP",symbol:"£",name:"Egyptian Pound"},SA:{code:"SAR",symbol:"﷼",name:"Saudi Riyal"},AE:{code:"AED",symbol:"د.إ",name:"UAE Dirham"},SG:{code:"SGD",symbol:"S$",name:"Singapore Dollar"},HK:{code:"HKD",symbol:"HK$",name:"Hong Kong Dollar"},TW:{code:"TWD",symbol:"NT$",name:"Taiwan Dollar"},TH:{code:"THB",symbol:"฿",name:"Thai Baht"},MY:{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},PH:{code:"PHP",symbol:"₱",name:"Philippine Peso"},ID:{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"},VN:{code:"VND",symbol:"₫",name:"Vietnamese Dong"},TR:{code:"TRY",symbol:"₺",name:"Turkish Lira"},IL:{code:"ILS",symbol:"₪",name:"Israeli Shekel"},CH:{code:"CHF",symbol:"Fr",name:"Swiss Franc"},NO:{code:"NOK",symbol:"kr",name:"Norwegian Krone"},SE:{code:"SEK",symbol:"kr",name:"Swedish Krona"},DK:{code:"DKK",symbol:"kr",name:"Danish Krone"},PL:{code:"PLN",symbol:"zł",name:"Polish Zloty"},CZ:{code:"CZK",symbol:"Kč",name:"Czech Koruna"},HU:{code:"HUF",symbol:"Ft",name:"Hungarian Forint"},RO:{code:"RON",symbol:"lei",name:"Romanian Leu"},BG:{code:"BGN",symbol:"лв",name:"Bulgarian Lev"},HR:{code:"HRK",symbol:"kn",name:"Croatian Kuna"},RS:{code:"RSD",symbol:"дин",name:"Serbian Dinar"},UA:{code:"UAH",symbol:"₴",name:"Ukrainian Hryvnia"},AR:{code:"ARS",symbol:"$",name:"Argentine Peso"},CL:{code:"CLP",symbol:"$",name:"Chilean Peso"},CO:{code:"COP",symbol:"$",name:"Colombian Peso"},PE:{code:"PEN",symbol:"S/",name:"Peruvian Sol"},UY:{code:"UYU",symbol:"$",name:"Uruguayan Peso"},PY:{code:"PYG",symbol:"₲",name:"Paraguayan Guarani"},BO:{code:"BOB",symbol:"Bs",name:"Bolivian Boliviano"},EC:{code:"USD",symbol:"$",name:"US Dollar"},VE:{code:"VES",symbol:"Bs",name:"Venezuelan Bolívar"},NZ:{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"},FJ:{code:"FJD",symbol:"FJ$",name:"Fijian Dollar"},PG:{code:"PGK",symbol:"K",name:"Papua New Guinea Kina"},IS:{code:"ISK",symbol:"kr",name:"Icelandic Krona"},IE:{code:"EUR",symbol:"€",name:"Euro"},PT:{code:"EUR",symbol:"€",name:"Euro"},GR:{code:"EUR",symbol:"€",name:"Euro"},CY:{code:"EUR",symbol:"€",name:"Euro"},MT:{code:"EUR",symbol:"€",name:"Euro"},LU:{code:"EUR",symbol:"€",name:"Euro"},BE:{code:"EUR",symbol:"€",name:"Euro"},NL:{code:"EUR",symbol:"€",name:"Euro"},AT:{code:"EUR",symbol:"€",name:"Euro"},FI:{code:"EUR",symbol:"€",name:"Euro"},EE:{code:"EUR",symbol:"€",name:"Euro"},LV:{code:"EUR",symbol:"€",name:"Euro"},LT:{code:"EUR",symbol:"€",name:"Euro"},SK:{code:"EUR",symbol:"€",name:"Euro"},SI:{code:"EUR",symbol:"€",name:"Euro"}},g=()=>{const c=u("US"),n=u(a.US),d=u(!1),t=u(null),b=async()=>{var o,e;try{d.value=!0,t.value=null;const r=await fetch("https://ipapi.co/json/");if(!r.ok)throw new Error("Failed to fetch location data");const l=await r.json();if(l.country_code)c.value=l.country_code,n.value=a[l.country_code]||a.US;else{const s=(o=(navigator.language||"en-US").split("-")[1])==null?void 0:o.toUpperCase();s&&a[s]&&(c.value=s,n.value=a[s])}}catch(r){t.value="Failed to detect country",console.error("Country detection error:",r);try{const m=(e=(navigator.language||"en-US").split("-")[1])==null?void 0:e.toUpperCase();m&&a[m]&&(c.value=m,n.value=a[m])}catch(l){console.error("Browser locale fallback error:",l)}}finally{d.value=!1}},E=(o,e)=>{try{const{minimumFractionDigits:r=2,maximumFractionDigits:l=2,showSymbol:m=!0}=e||{},s=`en-${c.value}`;return new Intl.NumberFormat(s,{style:m?"currency":"decimal",currency:n.value.code,minimumFractionDigits:r,maximumFractionDigits:l}).format(o)}catch(r){return console.error("Currency formatting error:",r),`${n.value.symbol}${o.toFixed(2)}`}},R=o=>{const e=Object.entries(a).find(([,r])=>r.code===o);e?(c.value=e[0],n.value=e[1]):t.value=`Currency ${o} not found`},U=o=>{const e=o.toUpperCase();a[e]?(c.value=e,n.value=a[e]):t.value=`Country ${o} not found`},C=()=>{const o=new Map;return Object.values(a).forEach(e=>{o.set(e.code,e)}),Array.from(o.values())},S=()=>Object.entries(a).map(([o,e])=>({code:o,currency:e})),p=i(()=>n.value.code),v=i(()=>n.value.symbol),D=i(()=>n.value.name);return{countryCode:y(c),currency:y(n),isLoading:y(d),error:y(t),currencyCode:p,currencySymbol:v,currencyName:D,detectCountry:b,formatCurrency:E,setCurrency:R,setCountry:U,getSupportedCurrencies:C,getSupportedCountries:S}};export{g as u};
