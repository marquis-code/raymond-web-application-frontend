import{e as we,r as v,f as me,g as ve,c as o,b as J,a as e,w as le,q as be,m as p,j as Fe,T as Ce,F as R,k as B,s as tt,v as st,o as s,i as m,x as oe,y as $e,n as Ie,_ as _e,h as ae,z as Le,A as Ee,t as c,l as d,d as ne,B as ce,p as ot,G as lt,C as xe,D as nt,E as at,H as ye,u as rt}from"./OGZqr3Xg.js";import{_ as De,a as Oe,b as Ue,c as He}from"./BaD2ApPR.js";import{u as it}from"./BnxLFv9J.js";import{u as Ne}from"./Bl7wNVeh.js";import{u as dt}from"./CTEx42SM.js";import{u as ut}from"./EpzKePZp.js";import{u as Me}from"./CnYKx7Zt.js";const ct={key:0,class:"loading-overlay"},mt={class:"mx-auto max-w-7xl px-6 lg:px-8"},vt={class:"mx-auto grid grid-cols-1 gap-x-12 gap-y-16 lg:grid-cols-12"},gt={class:"featured-image-container"},ft=["onMouseenter"],ht=["src","alt","onLoad"],pt={class:"thumbnails-container"},yt=["onMouseenter"],bt=["src","alt"],xt=we({__name:"PrintsHeroSection",props:{images:{}},setup(G){const L=G,z=v(!0),W=v([]),x=v(0),D=v(!1),C=v(-1),a=v(!1),_=v({x:0,y:0}),Q=[{id:1,src:De,alt:"Featured artwork",aspectRatio:"7/5"},{id:2,src:Oe,alt:"Gallery piece",aspectRatio:"4/3"},{id:3,src:Ue,alt:"Art collection",aspectRatio:"7/5"},{id:4,src:He,alt:"Artistic work",aspectRatio:"4/3"}],T=me(()=>L.images||Q),f=$=>{W.value.includes($)||W.value.push($),W.value.length===T.value.length&&setTimeout(()=>{z.value=!1,tt(()=>{setTimeout(()=>{a.value=!0},300)})},500)},k=()=>{st(()=>{D.value||(x.value=(x.value+1)%T.value.length)},4e3)},A=$=>{D.value=!0,C.value=$,x.value=$},E=()=>{D.value=!1,C.value=-1},X=$=>{const w=$.currentTarget.getBoundingClientRect();_.value={x:(($.clientX-w.left)/w.width-.5)*2,y:(($.clientY-w.top)/w.height-.5)*2}};ve(()=>{k(),L.images||setTimeout(()=>{T.value.forEach($=>{f($.id)})},1e3)});const H=$=>{const w=.2*$,l=_.value.x*(5+$*2),r=_.value.y*(3+$*1.5);return{"--delay":`${w}s`,transform:`translate(${l}px, ${r}px)`}};return($,w)=>(s(),o("div",{class:"hero-section overflow-hidden pt-20 mt-16 relative",onMousemove:X},[J(be,{name:"fade"},{default:le(()=>[z.value?(s(),o("div",ct,w[2]||(w[2]=[e("div",{class:"loader"},[e("div",{class:"loader-circle"},[e("div",{class:"circle-path"})]),e("span",{class:"loader-text"},"Loading artwork")],-1)]))):m("",!0)]),_:1}),e("div",mt,[e("div",vt,[e("div",{class:p(["lg:col-span-5 lg:pb-8 content-section",{"animate-content":!z.value}])},w[3]||(w[3]=[Fe('<h2 class="text-5xl font-light tracking-tight text-gray-900 sm:text-6xl mb-8" data-v-cc6ab2e2><span class="block text-reveal" style="--delay:0.2s;" data-v-cc6ab2e2>SHOP PRINTS</span></h2><div class="space-y-6 text-gray-600 leading-relaxed" data-v-cc6ab2e2><p class="text-base text-reveal" style="--delay:0.6s;" data-v-cc6ab2e2> Limited edition prints on premium Hahnemühle German etching paper (310 gsm). Each piece is carefully crafted in editions of 10 to 20. </p><p class="text-base text-reveal" style="--delay:0.8s;" data-v-cc6ab2e2> Every print includes a Certificate of Authenticity and arrives professionally packaged in protective tubes. </p><p class="text-base text-reveal" style="--delay:1s;" data-v-cc6ab2e2> Available in multiple sizes to suit any space. </p></div>',2)]),2),e("div",{class:p(["lg:col-span-7 gallery-container",{"gallery-ready":a.value}])},[e("div",gt,[J(Ce,{name:"image-transition",tag:"div"},{default:le(()=>[(s(!0),o(R,null,B(T.value,(l,r)=>oe((s(),o("div",{key:l.id,class:"featured-image",style:Ie(H(r)),onMouseenter:g=>A(r),onMouseleave:w[0]||(w[0]=g=>E())},[e("img",{src:l.src,alt:l.alt,onLoad:g=>f(l.id),class:"rounded-3xl object-cover shadow-2xl transition-all duration-700 hover:shadow-3xl hover:scale-105"},null,40,ht),w[4]||(w[4]=e("div",{class:"image-overlay"},null,-1))],44,ft)),[[$e,x.value===r||C.value===r]])),128))]),_:1})]),e("div",pt,[(s(!0),o(R,null,B(T.value,(l,r)=>(s(),o("div",{key:`thumb-${l.id}`,class:p(["thumbnail",{active:x.value===r}]),onMouseenter:g=>A(r),onMouseleave:w[1]||(w[1]=g=>E()),style:Ie({"--thumb-delay":`${1.2+r*.1}s`})},[e("img",{src:l.src,alt:`Thumbnail for ${l.alt}`,class:"rounded-lg object-cover"},null,8,bt)],46,yt))),128))]),w[5]||(w[5]=e("div",{class:"decorative-elements"},[e("div",{class:"floating-element element-1"}),e("div",{class:"floating-element element-2"}),e("div",{class:"floating-element element-3"})],-1))],2)])])],32))}}),wt=_e(xt,[["__scopeId","data-v-cc6ab2e2"]]),_t={class:"lg:p-6 p-3"},kt={key:0,class:"bg-gray-50 rounded-xl p-4 mb-6"},Ct={class:"flex items-center space-x-4"},$t={class:"w-16 h-16 bg-white rounded-lg overflow-hidden flex-shrink-0"},It=["src","alt"],Mt={class:"flex-1 min-w-0"},jt={class:"font-semibold text-gray-900 text-sm truncate"},Tt={class:"text-sm text-gray-600"},Pt={class:"text-lg font-bold text-gray-900"},At={class:"space-y-4 mb-6"},St={class:"flex items-center"},Rt={key:0,class:"w-3 h-3 rounded-full bg-white"},Bt={class:"flex-1"},zt={class:"flex flex-col justify-between items-start mb-1"},Ft={class:"font-bold block text-emerald-600"},Lt={class:"flex items-center"},Et={key:0,class:"w-3 h-3 rounded-full bg-white"},Dt={class:"flex-1"},Ot={class:"flex flex-col justify-between items-start mb-1"},Ut={class:"font-bold block text-blue-600"},Ht={class:"text-sm text-gray-600"},Nt={key:0,class:"text-xs text-gray-500"},qt={key:1,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Vt={class:"flex items-center"},Gt={class:"text-sm text-yellow-800"},Wt={key:0},Qt={class:"flex gap-3"},Xt=["disabled"],Yt=we({__name:"PaymentSelectionModal",props:{isOpen:{type:Boolean},cartItem:{},onClose:{type:Function},onProceed:{type:Function}},setup(G){const{userCurrency:L,exchangeRates:z,initializeUserCurrency:W,convertFromUSD:x}=Me(),D=v({});v("USD");const C=v("NGN");v(null),me(()=>Object.keys(z.value).sort());const a=v("full"),_=G,Q=me(()=>{var g;if(!((g=_.cartItem)!=null&&g.installmentConfig))return!1;const l=_.cartItem.installmentConfig,r=T();return l.enabled&&r>=(l.minimumAmount||0)}),T=()=>_.cartItem?_.cartItem.price*_.cartItem.quantity:0,f=()=>{var l,r;return((r=(l=_.cartItem)==null?void 0:l.installmentConfig)==null?void 0:r.minimumAmount)||100},k=()=>{var l,r;return((r=(l=_.cartItem)==null?void 0:l.installmentConfig)==null?void 0:r.interestRate)||0},A=()=>{var g,P;if(!((P=(g=_.cartItem)==null?void 0:g.installmentConfig)!=null&&P.availableTerms))return"";const l=_.cartItem.installmentConfig.availableTerms;if(l.length===1)return`${l[0]} months`;if(l.length===2)return`${l[0]} or ${l[1]} months`;const r=[...l].sort((N,K)=>N-K);return`${r[0]}-${r[r.length-1]} months`},E=l=>{var N;if(!((N=_.cartItem)!=null&&N.installmentConfig))return 0;const r=_.cartItem.installmentConfig,g=T(),P=r.interestRate/100/12;return P>0?g*P*Math.pow(1+P,l)/(Math.pow(1+P,l)-1):g/l},X=()=>{var K,S;if(!((S=(K=_.cartItem)==null?void 0:K.installmentConfig)!=null&&S.availableTerms))return"";const l=_.cartItem.installmentConfig.availableTerms,r=Math.min(...l),g=Math.max(...l),P=E(g),N=E(r);return r===g?`${x(P).formattedAmount}/mo`:`${x(P).formattedAmount} - ${x(N).formattedAmount}/mo`},H=l=>{a.value=l},$=async()=>{if(!(!_.cartItem||!a.value))try{_.onProceed(a.value,_.cartItem),await ot({path:"/checkout",query:{paymentType:a.value,productId:_.cartItem.productId,size:_.cartItem.size}})}catch(l){console.error("Error navigating to checkout:",l)}};ve(async()=>{await W(),w()}),ae([L,z],()=>{w()});const w=()=>{L.value&&Object.keys(z.value).length>0&&(D.value=x(100).formattedAmount)};return ae(L,l=>{C.value=l}),(l,r)=>(s(),Le(Ee,{to:"body"},[l.isOpen?(s(),o("div",{key:0,class:p(["fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",{"opacity-100":l.isOpen,"opacity-0":!l.isOpen}])},[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:r[0]||(r[0]=(...g)=>l.onClose&&l.onClose(...g))}),e("div",{class:p(["relative w-full max-w-md bg-white rounded-2xl shadow-2xl transform transition-all duration-300 mx-auto",{"translate-y-0 scale-100":l.isOpen,"translate-y-8 scale-95":!l.isOpen}]),onClick:r[5]||(r[5]=ce(()=>{},["stop"]))},[e("button",{onClick:r[1]||(r[1]=(...g)=>l.onClose&&l.onClose(...g)),class:"absolute top-4 right-4 z-20 bg-gray-100 hover:bg-gray-200 p-2 rounded-full transition-all duration-300 shadow-sm","aria-label":"Close modal"},r[6]||(r[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-gray-700"},[e("path",{d:"m18 6-12 12"}),e("path",{d:"m6 6 12 12"})],-1)])),e("div",_t,[r[14]||(r[14]=e("div",{class:"text-center mb-6"},[e("div",{class:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-full flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-emerald-600"},[e("path",{d:"M9 12l2 2 4-4"}),e("path",{d:"M21 12c.552 0 1-.448 1-1V5c0-.552-.448-1-1-1H3c-.552 0-1 .448-1 1v6c0 .552.448 1 1 1"}),e("path",{d:"M3 12v6c0 .552.448 1 1 1h16c.552 0 1-.448 1-1v-6"})])]),e("h2",{class:"text-xl font-bold text-gray-900 mb-2"},"Choose Payment Option"),e("p",{class:"text-gray-600 text-sm"},"How would you like to pay for your selected items?")],-1)),l.cartItem?(s(),o("div",kt,[e("div",Ct,[e("div",$t,[e("img",{src:l.cartItem.image||"/placeholder.svg?height=64&width=64",alt:l.cartItem.title,class:"w-full h-full object-cover"},null,8,It)]),e("div",Mt,[e("h3",jt,c(l.cartItem.title),1),e("p",Tt,c(l.cartItem.size)+" • Qty: "+c(l.cartItem.quantity),1),e("p",Pt,c(d(x)(l.cartItem.price*l.cartItem.quantity).formattedAmount),1)])])])):m("",!0),e("div",At,[e("div",{class:p(["border-2 rounded-xl p-4 cursor-pointer transition-all duration-300 hover:shadow-md",a.value==="full"?"border-gray-800 bg-gray-50 shadow-md":"border-gray-200 hover:border-gray-300"]),onClick:r[2]||(r[2]=g=>H("full"))},[e("div",St,[e("div",{class:p(["w-6 h-6 rounded-full border-2 mr-4 flex items-center justify-center transition-all duration-200",a.value==="full"?"border-gray-800 bg-gray-800":"border-gray-300"])},[a.value==="full"?(s(),o("div",Rt)):m("",!0)],2),e("div",Bt,[e("div",zt,[r[7]||(r[7]=e("span",{class:"font-semibold block text-gray-800"},"Pay Full Amount",-1)),e("span",Ft,c(d(x)(T()).formattedAmount),1)]),r[8]||(r[8]=e("p",{class:"text-sm text-gray-600"},"Complete payment now with no additional fees",-1))]),r[9]||(r[9]=e("div",{class:"w-10 h-10 bg-emerald-100 rounded-md flex items-center justify-center ml-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-emerald-600"},[e("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),e("line",{x1:"2",x2:"22",y1:"10",y2:"10"})])],-1))])],2),Q.value?(s(),o("div",{key:0,class:p(["border-2 rounded-xl p-4 cursor-pointer transition-all duration-300 hover:shadow-md",a.value==="installment"?"border-gray-800 bg-gray-50 shadow-md":"border-gray-200 hover:border-gray-300"]),onClick:r[3]||(r[3]=g=>H("installment"))},[e("div",Lt,[e("div",{class:p(["w-6 h-6 rounded-full border-2 mr-4 flex items-center justify-center transition-all duration-200",a.value==="installment"?"border-gray-800 bg-gray-800":"border-gray-300"])},[a.value==="installment"?(s(),o("div",Et)):m("",!0)],2),e("div",Dt,[e("div",Ot,[r[10]||(r[10]=e("span",{class:"font-semibold block text-gray-800"},"Installment Plan",-1)),e("span",Ut,c(X()),1)]),e("p",Ht,[ne(" Split your payment into "+c(A())+" manageable installments ",1),k()>0?(s(),o("span",Nt," ("+c(k())+"% APR) ",1)):m("",!0)])]),r[11]||(r[11]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-md flex items-center justify-center ml-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-blue-600"},[e("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),e("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),e("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),e("line",{x1:"3",x2:"21",y1:"10",y2:"10"})])],-1))])],2)):m("",!0),Q.value?m("",!0):(s(),o("div",qt,[e("div",Vt,[r[13]||(r[13]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-yellow-600 mr-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e("path",{d:"M12 17h.01"})],-1)),e("span",Gt,[r[12]||(r[12]=ne(" Installment payment is not available for this item ")),l.cartItem&&T()<f()?(s(),o("span",Wt," (minimum "+c(d(x)(f()).formattedAmount)+" required) ",1)):m("",!0)])])]))]),e("div",Qt,[e("button",{onClick:r[4]||(r[4]=(...g)=>l.onClose&&l.onClose(...g)),class:"flex-1 text-sm py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 font-medium"}," Cancel "),e("button",{onClick:$,disabled:!a.value,class:"flex-1 text-sm py-3 bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-xl hover:from-gray-900 hover:to-black transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"}," Proceed to Checkout ",8,Xt)])])],2)],2)):m("",!0)]))}}),Zt=_e(Yt,[["__scopeId","data-v-274d5778"]]),Jt={$_single_upload(G){return lt.post("/images",G)}},Kt=()=>{const G=v(!1),L=v({}),{$_single_upload:z}=Jt;return{singleUploadFile:async x=>{G.value=!0;try{const D=new FormData;D.append("file",x);const C=await z(D);if(C.type!=="ERROR")return L.value=C.data??[],C.data;throw new Error("Error in API response")}catch(D){console.error("Error uploading file:",D)}finally{G.value=!1}},loading:G,uploadResponse:L}},es={key:0,class:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm"},ts={class:"h-full w-full flex flex-col bg-white"},ss={class:"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 py-3"},os={class:"flex items-center justify-between"},ls={class:"flex items-center space-x-3 flex-1 min-w-0"},ns={class:"min-w-0 flex-1"},as={class:"text-base font-semibold text-gray-900 truncate"},rs={class:"flex items-center space-x-2 text-sm text-gray-600"},is={class:"text-xs"},ds={class:"flex-1 overflow-hidden"},us={class:"lg:hidden h-full overflow-y-auto"},cs={class:"pb-6"},ms={class:"bg-gray-50 p-4"},vs={class:"aspect-square bg-white rounded-xl shadow-sm overflow-hidden relative"},gs={class:"absolute inset-0 flex items-center justify-center p-4"},fs=["src","alt"],hs={key:0,class:"absolute inset-y-0 left-0 right-0 flex items-center justify-between pointer-events-none"},ps={key:0,class:"mt-3"},ys={class:"flex space-x-2 overflow-x-auto pb-2"},bs=["onClick"],xs=["src","alt"],ws={class:"p-4 space-y-5"},_s={class:"animate-item"},ks={class:"flex items-baseline space-x-2"},Cs={class:"text-base font-bold text-gray-900"},$s={key:0},Is={key:1},Ms={key:0,class:"text-base text-gray-600"},js={key:0,class:"text-sm text-gray-600 mt-1"},Ts={class:"animate-item"},Ps={class:"grid grid-cols-1 gap-3"},As=["onClick"],Ss={class:"flex justify-between items-center"},Rs={class:"text-left"},Bs={class:"text-sm font-semibold text-gray-900"},zs={class:"text-xs text-gray-600 mt-1"},Fs={key:0,class:"text-blue-600"},Ls={key:0,class:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center"},Es={class:"animate-item"},Ds={class:"flex items-center justify-center"},Os={class:"flex items-center bg-gray-100 rounded-xl p-1"},Us=["disabled"],Hs={class:"w-16 text-center font-bold text-base text-gray-900"},Ns={class:"animate-item"},qs=["disabled"],Vs={key:0},Gs={key:1},Ws={class:"animate-item"},Qs={class:"border border-gray-200 rounded-xl overflow-hidden"},Xs={class:"flex items-center space-x-3"},Ys={key:0,class:"flex items-center space-x-1"},Zs={class:"flex items-center"},Js={class:"text-sm text-gray-600"},Ks={class:"px-4 pb-4"},eo={key:0,class:"space-y-4"},to={class:"flex items-start justify-between mb-2"},so={class:"flex items-center space-x-2"},oo={class:"flex items-center"},lo={class:"text-sm font-medium text-gray-900"},no={class:"text-xs text-gray-500"},ao={class:"text-sm text-gray-700 leading-relaxed"},ro={key:0,class:"text-center"},io={class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},uo={key:1,class:"text-center py-8"},co={class:"space-y-3 animate-item"},mo={key:0,class:"border border-gray-200 rounded-xl overflow-hidden"},vo={class:"px-4 pb-4"},go=["innerHTML"],fo={key:1,class:"border border-gray-200 rounded-xl overflow-hidden"},ho={class:"px-4 pb-4"},po=["innerHTML"],yo={class:"hidden lg:flex h-full"},bo={class:"flex-[2] bg-gray-50 relative"},xo={class:"absolute inset-0 flex items-center justify-center p-6"},wo={class:"relative w-full h-full max-w-3xl"},_o={class:"relative w-full h-full bg-white rounded-2xl shadow-lg overflow-hidden"},ko=["src","alt"],Co={key:0,class:"absolute inset-y-0 left-0 right-0 flex items-center justify-between pointer-events-none"},$o={key:0,class:"absolute bottom-6 left-1/2 transform -translate-x-1/2"},Io={class:"flex space-x-3 bg-white/90 backdrop-blur-sm p-3 rounded-2xl shadow-lg"},Mo=["onClick"],jo=["src","alt"],To={class:"w-96 bg-white border-l border-gray-200 overflow-y-auto"},Po={class:"p-6 space-y-6"},Ao={class:"animate-item"},So={class:"flex items-baseline space-x-3"},Ro={class:"text-2xl font-bold text-gray-900"},Bo={key:0},zo={key:1},Fo={key:0,class:"text-base text-gray-600"},Lo={key:0,class:"text-base text-gray-600 mt-2"},Eo={class:"animate-item"},Do={class:"grid grid-cols-1 gap-3"},Oo=["onClick"],Uo={class:"flex justify-between items-center"},Ho={class:"text-left"},No={class:"text-sm font-semibold text-gray-900"},qo={class:"text-sm text-gray-600 mt-1"},Vo={key:0,class:"text-blue-600"},Go={key:0,class:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center"},Wo={class:"animate-item"},Qo={class:"flex items-center justify-center"},Xo={class:"flex items-center bg-gray-100 rounded-xl p-1"},Yo=["disabled"],Zo={class:"w-20 text-center font-bold text-base text-gray-900"},Jo={class:"animate-item"},Ko=["disabled"],el={key:0},tl={key:1},sl={class:"animate-item"},ol={class:"border border-gray-200 rounded-xl overflow-hidden"},ll={class:"flex items-center space-x-3"},nl={key:0,class:"flex items-center space-x-1"},al={class:"flex items-center"},rl={class:"text-sm text-gray-600"},il={class:"px-4 pb-4"},dl={key:0,class:"space-y-4"},ul={class:"flex items-start justify-between mb-2"},cl={class:"flex items-center space-x-2"},ml={class:"flex items-center"},vl={class:"text-sm font-medium text-gray-900"},gl={class:"text-xs text-gray-500"},fl={class:"text-sm text-gray-700 leading-relaxed"},hl={key:0,class:"text-center"},pl={class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},yl={key:1,class:"text-center py-8"},bl={class:"space-y-4 animate-item"},xl={key:0,class:"border border-gray-200 rounded-xl overflow-hidden"},wl={class:"px-4 pb-4"},_l=["innerHTML"],kl={key:1,class:"border border-gray-200 rounded-xl overflow-hidden"},Cl={class:"px-4 pb-4"},$l=["innerHTML"],Il={key:0,class:"fixed bottom-6 right-6 z-50"},Ml={key:0,class:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4"},jl={class:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden transform transition-all duration-300"},Tl={class:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]"},Pl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Al={class:"flex items-center space-x-1"},Sl=["onClick","onMouseover"],Rl={class:"text-right text-xs text-gray-500 mt-1"},Bl={class:"text-right text-xs text-gray-500 mt-1"},zl={class:"block text-sm font-medium text-gray-700 mb-3"},Fl={key:0,class:"mt-4 grid grid-cols-3 gap-3"},Ll=["src","alt"],El=["onClick","disabled"],Dl={class:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200"},Ol=["disabled"],Ul={key:0},Hl=we({__name:"ProductPreviewModal",props:{isOpen:{type:Boolean},productId:{},onClose:{type:Function},onAddToCart:{type:Function}},setup(G){const{singleUploadFile:L,loading:z,uploadResponse:W}=Kt(),x=G,{initializeUserCurrency:D,convertFromUSD:C}=Me(),{product:a,fetchProduct:_}=ut(),{addToCart:Q}=Ne(),{showToast:T}=at(),f=v(""),k=v(1),A=v(0),E=v(!1),X=v(null),H=v(!1),$=v(0),w=v(0),l=xe({productInfo:!1,shippingInfo:!1,reviews:!1}),r=v(new Set),g=v(!1),P=v(!1),N=v(0),K=v(null),S=v([]),I=xe({name:"",email:"",rating:0,title:"",comment:""}),Y=v([{_id:"687c9c3451b23dd3ffac0078",productId:{_id:"684aa2c2a1708d756091adbe",name:"Fort Bragg CA 1",discountPercentage:0,id:"684aa2c2a1708d756091adbe"},userId:"67fa8e31b42b0ed1af9e1a0f",userName:"raymond@gmail.com",userRole:"admin",rating:5,comment:"Absolutely breathtaking. The colours and detail are so vivid, it feels alive on my wall.",status:"approved",createdAt:"2025-07-20T07:35:16.629Z",updatedAt:"2025-07-20T07:35:16.629Z",id:"687c9c3451b23dd3ffac0078"}]),ge=me(()=>I.name.trim()!==""&&I.email.trim()!==""&&I.rating>0&&I.title.trim()!==""&&I.comment.trim()!=="");ve(async()=>{await D(),window.addEventListener("keydown",fe)}),nt(()=>{window.removeEventListener("keydown",fe)});const fe=n=>{x.isOpen&&(n.key==="Escape"?g.value?pe():x.onClose():n.key==="ArrowRight"?q():n.key==="ArrowLeft"&&ee())},u=n=>{$.value=n.changedTouches[0].screenX},h=n=>{w.value=n.changedTouches[0].screenX,Z()},Z=()=>{const t=$.value-w.value;Math.abs(t)>50&&(t>0?q():ee())},j=n=>n.sizes&&n.sizes.length>0?Math.min(...n.sizes.map(t=>t.price)):n.price||0,O=()=>{if(!a.value||!f.value)return 0;const n=a.value.sizes.find(t=>t._id===f.value);return n?n.price:j(a.value)},U=()=>O()*k.value,te=()=>{k.value++},se=()=>{k.value>1&&k.value--},ie=n=>{H.value||(H.value=!0,A.value=n,setTimeout(()=>{H.value=!1},300))},q=()=>{a.value&&a.value.images.length>1&&!H.value&&ie((A.value+1)%a.value.images.length)},ee=()=>{a.value&&a.value.images.length>1&&!H.value&&ie(A.value===0?a.value.images.length-1:A.value-1)},re=n=>{Object.keys(l).forEach(t=>{l[t]=!1}),l[n]=!0},he=n=>n.installmentConfig&&n.installmentConfig.enabled&&n.price>=(n.installmentConfig.minimumAmount||0),je=n=>{if(!he(n)||!n.installmentConfig)return"0";const t=n.installmentConfig,y=n.price,M=Math.min(...t.availableTerms),V=t.interestRate/100/12;let F;return V>0?F=y*V*Math.pow(1+V,M)/(Math.pow(1+V,M)-1):F=y/M,C(F).formattedAmount||Math.round(F).toString()},Te=()=>{var n;try{if(!a.value||!f.value){T({title:"Selection Required",message:"Please select a size before adding to cart",toastType:"warning",duration:3e3});return}const t=a.value.sizes.find(M=>M._id===f.value);if(!t){T({title:"Invalid Selection",message:"Selected size is not available",toastType:"error",duration:3e3});return}const y={id:`${a.value._id}-${t.size}-${Date.now()}`,productId:a.value._id,title:a.value.name,image:((n=a.value.images)==null?void 0:n[0])||"/placeholder.svg?height=300&width=300",price:t.price,quantity:k.value,size:t.size,color:t.color,installmentConfig:t.installmentConfig||null,hasInstallmentOption:he(t),category:a.value.category,weight:a.value.weight,dimensions:{width:a.value.width,height:a.value.height,length:a.value.length}};X.value=y,E.value=!0}catch(t){console.error("Error adding to cart:",t),T({title:"Error",message:"Failed to add item to cart. Please try again.",toastType:"error",duration:3e3})}},Pe=()=>{E.value=!1,X.value=null},qe=(n,t)=>{Q(t),T({title:"Added to Cart",message:`${t.quantity} × ${t.title} (${t.size}) added to cart`,toastType:"success",duration:3e3}),Pe(),x.onClose(),x.onAddToCart&&x.onAddToCart(t)},Ae=()=>{console.log("clicked again"),g.value=!0,Object.assign(I,{name:"",email:"",rating:0,title:"",comment:""}),S.value=[],N.value=0},pe=()=>{g.value=!1,P.value=!1},Ve=n=>{I.rating=n},Ge=()=>{var n;S.value.length<3&&((n=K.value)==null||n.click())},We=n=>{const t=n.target;t.files&&Se(Array.from(t.files))},Qe=n=>{var t;(t=n.dataTransfer)!=null&&t.files&&Se(Array.from(n.dataTransfer.files))},Se=async n=>{const t=3-S.value.length,y=n.slice(0,t);for(const M of y)if(M.type.startsWith("image/")||M.type.startsWith("video/")){const V=new FileReader;V.onload=F=>{var ue;const de=S.value.length;S.value.push({file:M,preview:(ue=F.target)==null?void 0:ue.result,uploading:!0,uploaded:!1,uploadUrl:null}),Xe(M,de)},V.readAsDataURL(M)}},Xe=async(n,t)=>{try{r.value.add(t),await L(n),W.value&&(S.value[t]={...S.value[t],uploading:!1,uploaded:!0,uploadUrl:W.value.url||W.value})}catch(y){console.error("Upload failed:",y),S.value.splice(t,1)}finally{r.value.delete(t)}},Ye=n=>{S.value.splice(n,1)},Ze=async()=>{if(!(!ge.value||!a.value)){P.value=!0;try{await new Promise(t=>setTimeout(t,2e3));const n={_id:Date.now().toString(),productId:{_id:a.value._id,name:a.value.name,discountPercentage:0,id:a.value._id},userId:"current-user-id",userName:I.email,userRole:"customer",rating:I.rating,comment:I.comment,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:Date.now().toString()};Y.value.unshift(n),T({title:"Review Submitted",message:"Thank you for your review! It will be published after moderation.",toastType:"success",duration:4e3}),pe()}catch(n){console.error("Error submitting review:",n),T({title:"Error",message:"Failed to submit review. Please try again.",toastType:"error",duration:3e3})}finally{P.value=!1}}},Re=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Je=n=>{document.body.style.overflow="hidden",n.style.opacity="0"},Ke=(n,t)=>{n.offsetHeight,n.style.transition="opacity 0.3s ease-out",n.style.opacity="1",n.querySelectorAll(".animate-item").forEach((M,V)=>{const F=M;F.style.opacity="0",F.style.transform="translateY(20px)",F.style.transition="all 0.5s ease-out",F.style.transitionDelay=`${V*.1}s`,setTimeout(()=>{F.style.opacity="1",F.style.transform="translateY(0)"},100)}),setTimeout(t,300)},et=(n,t)=>{n.style.transition="opacity 0.2s ease-in",n.style.opacity="0",setTimeout(()=>{document.body.style.overflow="",t()},200)};return ae(()=>x.productId,n=>{n&&x.isOpen&&(_(n),f.value="",k.value=1,A.value=0,Object.keys(l).forEach(t=>{l[t]=!1}))},{immediate:!0}),ae(()=>x.isOpen,n=>{n||(f.value="",k.value=1,A.value=0,E.value=!1,X.value=null,g.value=!1,Object.keys(l).forEach(t=>{l[t]=!1}))}),(n,t)=>(s(),Le(Ee,{to:"body"},[J(be,{name:"modal-fade",onBeforeEnter:Je,onEnter:Ke,onLeave:et},{default:le(()=>{var y,M,V,F,de,ue,Be,ze;return[n.isOpen&&d(a)?(s(),o("div",es,[e("div",ts,[e("div",ss,[e("div",os,[e("div",ls,[e("button",{onClick:t[0]||(t[0]=(...i)=>n.onClose&&n.onClose(...i)),class:"p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close modal"},t[14]||(t[14]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e("div",ns,[e("h1",as,c(d(a).name),1)])]),e("div",rs,[e("span",is,c(A.value+1)+" / "+c(d(a).images.length),1)])])]),e("div",ds,[e("div",us,[e("div",cs,[e("div",ms,[e("div",vs,[e("div",gs,[J(Ce,{name:"image-fade",tag:"div",class:"relative w-full h-full"},{default:le(()=>[(s(!0),o(R,null,B(d(a).images,(i,b)=>oe((s(),o("div",{key:`image-${b}`,class:"absolute inset-0 flex items-center justify-center"},[e("img",{src:i,alt:`${d(a).name} - view ${b+1}`,class:"max-w-full max-h-full object-contain"},null,8,fs)])),[[$e,b===A.value]])),128))]),_:1})]),d(a).images.length>1?(s(),o("div",hs,[e("button",{onClick:ee,class:"ml-2 p-2 rounded-full bg-white/90 shadow-md transition-all duration-200 pointer-events-auto","aria-label":"Previous image"},t[15]||(t[15]=[e("svg",{class:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("button",{onClick:q,class:"mr-2 p-2 rounded-full bg-white/90 shadow-md transition-all duration-200 pointer-events-auto","aria-label":"Next image"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])):m("",!0),e("div",{class:"absolute inset-0",onTouchstart:u,onTouchend:h},[e("div",{class:"absolute inset-y-0 left-0 w-1/3",onClick:ee}),e("div",{class:"absolute inset-y-0 right-0 w-1/3",onClick:q})],32)]),d(a).images.length>1?(s(),o("div",ps,[e("div",ys,[(s(!0),o(R,null,B(d(a).images,(i,b)=>(s(),o("button",{key:`thumb-${b}`,onClick:ke=>ie(b),class:p(["flex-shrink-0 w-14 h-14 rounded-lg overflow-hidden border-2 transition-all duration-200",A.value===b?"border-blue-500 scale-105":"border-gray-200"])},[e("img",{src:i,alt:`Thumbnail ${b+1}`,class:"w-full h-full object-cover"},null,8,xs)],10,bs))),128))])])):m("",!0)]),e("div",ws,[e("div",_s,[e("div",ks,[e("span",Cs,[f.value?(s(),o("span",Is,c((M=d(C)(O()))==null?void 0:M.formattedAmount),1)):(s(),o("span",$s,"From "+c((y=d(C)(j(d(a))))==null?void 0:y.formattedAmount),1))]),f.value&&k.value>1?(s(),o("span",Ms," × "+c(k.value),1)):m("",!0)]),f.value&&k.value>1?(s(),o("div",js," Total: "+c((V=d(C)(U()))==null?void 0:V.formattedAmount),1)):m("",!0)]),e("div",Ts,[t[18]||(t[18]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Select Size",-1)),e("div",Ps,[(s(!0),o(R,null,B(d(a).sizes,i=>{var b;return s(),o("button",{key:i._id,onClick:ke=>f.value=i._id,class:p(["relative p-4 border-2 rounded-xl transition-all duration-200",f.value===i._id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300"])},[e("div",Ss,[e("div",Rs,[e("div",Bs,c(i.size.toUpperCase()),1),e("div",zs,[ne(c((b=d(C)(i.price))==null?void 0:b.formattedAmount)+" ",1),he(i)?(s(),o("span",Fs," or "+c(je(i))+"/mo* ",1)):m("",!0)])]),f.value===i._id?(s(),o("div",Ls,t[17]||(t[17]=[e("svg",{class:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):m("",!0)])],10,As)}),128))])]),e("div",Es,[t[21]||(t[21]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Quantity",-1)),e("div",Ds,[e("div",Os,[e("button",{onClick:se,disabled:k.value<=1,class:"w-10 h-10 rounded-lg bg-white shadow-sm flex items-center justify-center disabled:opacity-50 hover:bg-gray-50 transition-colors"},t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Us),e("div",Hs,c(k.value),1),e("button",{onClick:te,class:"w-10 h-10 rounded-lg bg-white shadow-sm flex items-center justify-center hover:bg-gray-50 transition-colors"},t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]))])])]),e("div",Ns,[e("button",{onClick:Te,disabled:!f.value,class:"w-full bg-blue-600 text-sm hover:bg-blue-700 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200"},[f.value?(s(),o("span",Gs,"Add to Cart • "+c((F=d(C)(U()))==null?void 0:F.formattedAmount),1)):(s(),o("span",Vs,"Select Size to Continue"))],8,qs)]),e("div",Ws,[e("div",Qs,[e("button",{onClick:t[1]||(t[1]=i=>re("reviews")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[e("div",Xs,[t[23]||(t[23]=e("h3",{class:"text-base font-semibold text-gray-900"},"Customer Reviews",-1)),d(a).reviewCount>0?(s(),o("div",Ys,[e("div",Zs,[(s(),o(R,null,B(5,i=>e("svg",{key:i,class:p(["w-4 h-4",i<=Math.round(d(a).rating)?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[22]||(t[22]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",Js,"("+c(d(a).reviewCount)+")",1)])):m("",!0)]),(s(),o("svg",{class:p(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.reviews}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[24]||(t[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:p(["overflow-hidden transition-all duration-300",l.reviews?"max-h-96 opacity-100":"max-h-0 opacity-0"])},[e("div",Ks,[Y.value.length>0?(s(),o("div",eo,[(s(!0),o(R,null,B(Y.value.slice(0,3),i=>(s(),o("div",{key:i.id,class:"border-b border-gray-100 pb-4 last:border-b-0"},[e("div",to,[e("div",so,[e("div",oo,[(s(),o(R,null,B(5,b=>e("svg",{key:b,class:p(["w-4 h-4",b<=i.rating?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[25]||(t[25]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",lo,c(i.userName.split("@")[0]),1)]),e("span",no,c(Re(i.createdAt)),1)]),e("p",ao,c(i.comment),1)]))),128)),Y.value.length>3?(s(),o("div",ro,[e("button",io," View all "+c(Y.value.length)+" reviews ",1)])):m("",!0)])):(s(),o("div",uo,[t[26]||(t[26]=e("div",{class:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),t[27]||(t[27]=e("h4",{class:"text-base font-medium text-gray-900 mb-2"},"No reviews yet",-1)),t[28]||(t[28]=e("p",{class:"text-sm text-gray-600 mb-4"},"Be the first to share your thoughts about this product.",-1)),e("button",{onClick:Ae,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors"}," Write a Review ")]))])],2)])]),e("div",co,[d(a).productInfo?(s(),o("div",mo,[e("button",{onClick:t[2]||(t[2]=i=>re("productInfo")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[t[30]||(t[30]=e("h3",{class:"text-base font-semibold text-gray-900"},"Product Details",-1)),(s(),o("svg",{class:p(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.productInfo}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[29]||(t[29]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:p(["overflow-hidden transition-all duration-300",l.productInfo?"max-h-60 opacity-100":"max-h-0 opacity-0"])},[e("div",vo,[e("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:d(a).productInfo},null,8,go)])],2)])):m("",!0),d(a).shippingInfo?(s(),o("div",fo,[e("button",{onClick:t[3]||(t[3]=i=>re("shippingInfo")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[t[32]||(t[32]=e("h3",{class:"text-base font-semibold text-gray-900"},"Shipping Information",-1)),(s(),o("svg",{class:p(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.shippingInfo}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[31]||(t[31]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:p(["overflow-hidden transition-all duration-300",l.shippingInfo?"max-h-60 opacity-100":"max-h-0 opacity-0"])},[e("div",ho,[e("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:d(a).shippingInfo},null,8,po)])],2)])):m("",!0)])])])]),e("div",yo,[e("div",bo,[e("div",xo,[e("div",wo,[e("div",_o,[J(Ce,{name:"image-fade",tag:"div",class:"relative w-full h-full"},{default:le(()=>[(s(!0),o(R,null,B(d(a).images,(i,b)=>oe((s(),o("div",{key:`desktop-image-${b}`,class:"absolute inset-0 flex items-center justify-center p-8"},[e("img",{src:i,alt:`${d(a).name} - view ${b+1}`,class:"max-w-full max-h-full object-contain hover:scale-105 transition-transform duration-300"},null,8,ko)])),[[$e,b===A.value]])),128))]),_:1})]),d(a).images.length>1?(s(),o("div",Co,[e("button",{onClick:ee,class:"ml-4 p-3 rounded-full bg-white/90 shadow-lg transition-all duration-200 pointer-events-auto hover:scale-110"},t[33]||(t[33]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("button",{onClick:q,class:"mr-4 p-3 rounded-full bg-white/90 shadow-lg transition-all duration-200 pointer-events-auto hover:scale-110"},t[34]||(t[34]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])):m("",!0)])]),d(a).images.length>1?(s(),o("div",$o,[e("div",Io,[(s(!0),o(R,null,B(d(a).images,(i,b)=>(s(),o("button",{key:`desktop-thumb-${b}`,onClick:ke=>ie(b),class:p(["flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all duration-200",A.value===b?"border-blue-500 scale-110":"border-gray-200 hover:border-gray-300"])},[e("img",{src:i,alt:`Thumbnail ${b+1}`,class:"w-full h-full object-cover"},null,8,jo)],10,Mo))),128))])])):m("",!0)]),e("div",To,[e("div",Po,[e("div",Ao,[e("div",So,[e("span",Ro,[f.value?(s(),o("span",zo,c((ue=d(C)(O()))==null?void 0:ue.formattedAmount),1)):(s(),o("span",Bo,"From "+c((de=d(C)(j(d(a))))==null?void 0:de.formattedAmount),1))]),f.value&&k.value>1?(s(),o("span",Fo," × "+c(k.value),1)):m("",!0)]),f.value&&k.value>1?(s(),o("div",Lo," Total: "+c((Be=d(C)(U()))==null?void 0:Be.formattedAmount),1)):m("",!0)]),e("div",Eo,[t[36]||(t[36]=e("h3",{class:"text-base font-semibold text-gray-900 mb-4"},"Select Size",-1)),e("div",Do,[(s(!0),o(R,null,B(d(a).sizes,i=>{var b;return s(),o("button",{key:i._id,onClick:ke=>f.value=i._id,class:p(["relative p-4 border-2 rounded-xl transition-all duration-200",f.value===i._id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300"])},[e("div",Uo,[e("div",Ho,[e("div",No,c(i.size.toUpperCase()),1),e("div",qo,[ne(c((b=d(C)(i.price))==null?void 0:b.formattedAmount)+" ",1),he(i)?(s(),o("span",Vo," or "+c(je(i))+"/mo* ",1)):m("",!0)])]),f.value===i._id?(s(),o("div",Go,t[35]||(t[35]=[e("svg",{class:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):m("",!0)])],10,Oo)}),128))])]),e("div",Wo,[t[39]||(t[39]=e("h3",{class:"text-base font-semibold text-gray-900 mb-4"},"Quantity",-1)),e("div",Qo,[e("div",Xo,[e("button",{onClick:se,disabled:k.value<=1,class:"w-12 h-12 rounded-lg bg-white shadow-sm flex items-center justify-center disabled:opacity-50 hover:bg-gray-50 transition-colors"},t[37]||(t[37]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Yo),e("div",Zo,c(k.value),1),e("button",{onClick:te,class:"w-12 h-12 rounded-lg bg-white shadow-sm flex items-center justify-center hover:bg-gray-50 transition-colors"},t[38]||(t[38]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]))])])]),e("div",Jo,[e("button",{onClick:Te,disabled:!f.value,class:"w-full bg-blue-600 text-sm hover:bg-blue-700 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200"},[f.value?(s(),o("span",tl,"Add to Cart • "+c((ze=d(C)(U()))==null?void 0:ze.formattedAmount),1)):(s(),o("span",el,"Select Size to Continue"))],8,Ko)]),e("div",sl,[e("div",ol,[e("button",{onClick:t[4]||(t[4]=i=>re("reviews")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[e("div",ll,[t[41]||(t[41]=e("h3",{class:"text-base font-semibold text-gray-900"},"Customer Reviews",-1)),d(a).reviewCount>0?(s(),o("div",nl,[e("div",al,[(s(),o(R,null,B(5,i=>e("svg",{key:i,class:p(["w-4 h-4",i<=Math.round(d(a).rating)?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[40]||(t[40]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",rl,"("+c(d(a).reviewCount)+")",1)])):m("",!0)]),(s(),o("svg",{class:p(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.reviews}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[42]||(t[42]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:p(["overflow-hidden transition-all duration-300",l.reviews?"max-h-96 opacity-100":"max-h-0 opacity-0"])},[e("div",il,[Y.value.length>0?(s(),o("div",dl,[(s(!0),o(R,null,B(Y.value.slice(0,3),i=>(s(),o("div",{key:i.id,class:"border-b border-gray-100 pb-4 last:border-b-0"},[e("div",ul,[e("div",cl,[e("div",ml,[(s(),o(R,null,B(5,b=>e("svg",{key:b,class:p(["w-4 h-4",b<=i.rating?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[43]||(t[43]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",vl,c(i.userName.split("@")[0]),1)]),e("span",gl,c(Re(i.createdAt)),1)]),e("p",fl,c(i.comment),1)]))),128)),Y.value.length>3?(s(),o("div",hl,[e("button",pl," View all "+c(Y.value.length)+" reviews ",1)])):m("",!0)])):(s(),o("div",yl,[t[44]||(t[44]=e("div",{class:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),t[45]||(t[45]=e("h4",{class:"text-base font-medium text-gray-900 mb-2"},"No reviews yet",-1)),t[46]||(t[46]=e("p",{class:"text-sm text-gray-600 mb-4"},"Be the first to share your thoughts about this product.",-1)),e("button",{onClick:Ae,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors"}," Write a Review ")]))])],2)])]),e("div",bl,[d(a).productInfo?(s(),o("div",xl,[e("button",{onClick:t[5]||(t[5]=i=>re("productInfo")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[t[48]||(t[48]=e("h3",{class:"text-base font-semibold text-gray-900"},"Product Details",-1)),(s(),o("svg",{class:p(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.productInfo}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[47]||(t[47]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:p(["overflow-hidden transition-all duration-300",l.productInfo?"max-h-60 opacity-100":"max-h-0 opacity-0"])},[e("div",wl,[e("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:d(a).productInfo},null,8,_l)])],2)])):m("",!0),d(a).shippingInfo?(s(),o("div",kl,[e("button",{onClick:t[6]||(t[6]=i=>re("shippingInfo")),class:"flex justify-between items-center w-full text-left p-4 hover:bg-gray-50 transition-colors"},[t[50]||(t[50]=e("h3",{class:"text-base font-semibold text-gray-900"},"Shipping Information",-1)),(s(),o("svg",{class:p(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":l.shippingInfo}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[49]||(t[49]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),e("div",{class:p(["overflow-hidden transition-all duration-300",l.shippingInfo?"max-h-60 opacity-100":"max-h-0 opacity-0"])},[e("div",Cl,[e("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:d(a).shippingInfo},null,8,$l)])],2)])):m("",!0)])])])])])])])):m("",!0)]}),_:1}),J(be,{name:"review-button-fade"},{default:le(()=>[n.isOpen&&d(a)?(s(),o("div",Il,[e("button",{onClick:t[7]||(t[7]=y=>g.value=!0),class:"group bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 active:scale-95 transition-all duration-300 animate-bounce-slow"},t[51]||(t[51]=[e("svg",{class:"w-6 h-6 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1),e("div",{class:"absolute -top-2 -right-2 w-3 h-3 bg-red-500 rounded-full animate-pulse"},null,-1)])),t[52]||(t[52]=e("div",{class:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap"}," Write a Review ",-1))])):m("",!0)]),_:1}),J(be,{name:"review-modal-fade"},{default:le(()=>[g.value?(s(),o("div",Ml,[e("div",jl,[e("div",{class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between"},[t[54]||(t[54]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Write a Review",-1)),e("button",{onClick:pe,class:"p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close review modal"},t[53]||(t[53]=[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Tl,[e("form",{onSubmit:ce(Ze,["prevent"]),class:"space-y-6"},[e("div",Pl,[e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[ne(" Name* "),e("span",{class:"text-gray-500"},"(this appears publicly)")],-1)),oe(e("input",{"onUpdate:modelValue":t[8]||(t[8]=y=>I.name=y),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Your name"},null,512),[[ye,I.name]])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[ne(" Email* "),e("span",{class:"text-gray-500"},"(this will be kept private)")],-1)),oe(e("input",{"onUpdate:modelValue":t[9]||(t[9]=y=>I.email=y),type:"email",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"your@email.com"},null,512),[[ye,I.email]])])]),e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Add a rating*",-1)),e("div",Al,[(s(),o(R,null,B(5,y=>e("button",{key:y,type:"button",onClick:M=>Ve(y),onMouseover:M=>N.value=y,onMouseleave:t[10]||(t[10]=M=>N.value=0),class:"p-1 transition-transform duration-200 hover:scale-110"},[(s(),o("svg",{class:p(["w-8 h-8 transition-colors duration-200",y<=(N.value||I.rating)?"text-yellow-400 fill-current":"text-gray-300"]),viewBox:"0 0 20 20"},t[57]||(t[57]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2))],40,Sl)),64))])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Review title*",-1)),oe(e("input",{"onUpdate:modelValue":t[11]||(t[11]=y=>I.title=y),type:"text",required:"",maxlength:"100",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Give your review a title"},null,512),[[ye,I.title]]),e("div",Rl,c(I.title.length)+"/100",1)]),e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Review*",-1)),oe(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=y=>I.comment=y),required:"",rows:"6",maxlength:"500",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Share your thoughts about this product..."},null,512),[[ye,I.comment]]),e("div",Bl,c(I.comment.length)+"/500",1)]),e("div",null,[e("label",zl," Add images & videos ("+c(S.value.length)+"/3) ",1),e("div",{onClick:Ge,onDragover:t[13]||(t[13]=ce(()=>{},["prevent"])),onDrop:ce(Qe,["prevent"]),class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all duration-200"},t[61]||(t[61]=[e("div",{class:"w-12 h-12 mx-auto mb-4 text-gray-400"},[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",class:"w-full h-full"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),e("p",{class:"text-sm text-gray-600"},"Click to upload or drag and drop",-1),e("p",{class:"text-xs text-gray-500 mt-1"},"PNG, JPG, GIF up to 10MB",-1)]),32),e("input",{ref_key:"fileInput",ref:K,type:"file",multiple:"",accept:"image/*,video/*",onChange:We,class:"hidden"},null,544),S.value.length>0?(s(),o("div",Fl,[(s(!0),o(R,null,B(S.value,(y,M)=>(s(),o("div",{key:M,class:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden"},[e("img",{src:y.preview,alt:`Upload ${M+1}`,class:"w-full h-full object-cover"},null,8,Ll),e("button",{onClick:V=>Ye(M),disabled:y.uploading,class:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"},t[62]||(t[62]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,El)]))),128))])):m("",!0)]),e("div",Dl,[e("button",{type:"button",onClick:pe,class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200"}," Cancel "),e("button",{type:"submit",disabled:!ge.value||P.value||d(z)||r.value.size>0,class:"px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center space-x-2"},[P.value?(s(),o("span",Ul,t[63]||(t[63]=[e("svg",{class:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):m("",!0),e("span",null,c(d(z)||r.value.size>0?"Uploading files...":P.value?"Publishing...":"Publish"),1)],8,Ol)])],32)])])])):m("",!0)]),_:1}),J(Zt,{"is-open":E.value,"cart-item":X.value,"on-close":Pe,"on-proceed":qe},null,8,["is-open","cart-item"])]))}}),Nl=_e(Hl,[["__scopeId","data-v-5ac94eab"]]),ql={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-gray-50"},Vl={key:0,class:"flex justify-center items-center py-20"},Gl={class:"container mx-auto px-6"},Wl={key:0,class:"flex justify-center items-center py-20"},Ql={key:1,class:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 lg:gap-8"},Xl=["onMouseenter","onMouseleave","onClick"],Yl={class:"relative overflow-hidden bg-white rounded-2xl shadow-lg group-hover:shadow-2xl transition-all duration-700"},Zl={key:0,class:"absolute top-4 left-4 z-10"},Jl={class:"bg-white/95 backdrop-blur-sm text-gray-900 text-xs px-3 py-2 font-medium rounded-full shadow-lg"},Kl={class:"aspect-[3/4] overflow-hidden"},en=["src","alt","onLoad","onError"],tn={key:1,class:"absolute inset-0 bg-gray-100 flex items-center justify-center"},sn={class:"pt-6 text-center space-y-3"},on={class:"text-lg font-medium text-gray-900 tracking-wide group-hover:text-gray-700 transition-colors"},ln={class:"text-gray-600 font-light"},nn={key:0},an={class:"pt-4 transform translate-y-2 group-hover:translate-y-0 transition-all duration-500"},rn=["onClick"],dn=we({__name:"shop",setup(G){const{userCurrency:L,exchangeRates:z,initializeUserCurrency:W,convertFromUSD:x}=Me(),D=v({});v("USD");const C=v("NGN");v(null),me(()=>Object.keys(z.value).sort()),ve(async()=>{await W(),a()}),ae([L,z],()=>{a()});const a=()=>{L.value&&Object.keys(z.value).length>0&&(D.value=x(100))};ae(L,u=>{C.value=u}),Ne();const{loading:_}=dt(),Q=rt(),T=v(!1),f=v(null),k=v([]),A=v(!0),E=xe({}),X=xe({}),{products:H,loading:$}=it(),w=async()=>{try{await new Promise(u=>setTimeout(u,100)),k.value=[{id:1,src:De,alt:"Abstract Composition #1",aspectRatio:"7/5"},{id:2,src:Oe,alt:"Minimalist Study",aspectRatio:"4/3"},{id:3,src:Ue,alt:"Color Field Exploration",aspectRatio:"7/5"},{id:4,src:He,alt:"Geometric Harmony",aspectRatio:"4/3"}]}catch(u){console.error("Error fetching art prints:",u)}finally{A.value=!1}},l=u=>{console.log(u,"opening modal for product"),f.value=u,Q.push({query:{...Q.currentRoute.value.query,productId:u}}),T.value=!0},r=()=>{T.value=!1,f.value=null;const u={...Q.currentRoute.value.query};delete u.productId,Q.push({query:u})},g=u=>{console.log("Item added to cart from modal:",u)},P=u=>u.isFeatured?"Featured":u.isNew?"New Arrival":u.isBestseller?"Best Seller":null,N=u=>{let h=0;return u.sizes&&u.sizes.length>0?h=Math.min(...u.sizes.map(j=>j.price)):h=u.price||0,x(h).formattedAmount||h},K=u=>!u.sizes||u.sizes.length===0?!1:u.sizes.some(h=>h.installmentConfig&&h.installmentConfig.enabled&&h.price>=(h.installmentConfig.minimumAmount||0)),S=u=>{if(!u.sizes||u.sizes.length===0)return"0";const h=u.sizes.filter(q=>q.installmentConfig&&q.installmentConfig.enabled&&q.price>=(q.installmentConfig.minimumAmount||0));if(h.length===0)return"0";const Z=h.reduce((q,ee)=>ee.price<q.price?ee:q),j=Z.installmentConfig,O=Z.price,U=Math.min(...j.availableTerms),te=j.interestRate/100/12;let se;return te>0?se=O*te*Math.pow(1+te,U)/(Math.pow(1+te,U)-1):se=O/U,x(se).formattedAmount||Math.round(se).toString()},I=(u,h)=>!u||!u.images||u.images.length===0?"":X[h]&&u.images.length>1?u.images[1]:u.images[0],Y=(u,h)=>{X[u]=h},ge=u=>{E[u]=!1},fe=u=>{E[u]=!1};return ae(()=>H.value,u=>{u&&u.forEach((h,Z)=>{E[Z]=!0,X[Z]=!1})},{immediate:!0}),ve(()=>{w()}),(u,h)=>{const Z=wt;return s(),o("div",ql,[J(Z,{class:"mb-10",images:k.value},null,8,["images"]),d(_)?(s(),o("div",Vl,h[0]||(h[0]=[e("div",{class:"relative"},[e("div",{class:"animate-spin rounded-full h-16 w-16 border-4 border-gray-200"}),e("div",{class:"animate-spin rounded-full h-16 w-16 border-4 border-gray-900 border-t-transparent absolute top-0 left-0"})],-1)]))):m("",!0),e("div",Gl,[h[4]||(h[4]=e("div",{class:"text-center mb-16 animate-fade-in-up"},[e("h2",{class:"text-4xl font-light text-gray-900 mb-4"},"Curated Collection"),e("div",{class:"w-24 h-1 bg-gradient-to-r from-gray-400 to-gray-600 mx-auto rounded-full"}),e("p",{class:"text-gray-600 mt-6 max-w-2xl mx-auto"},"Each piece tells a story, crafted with precision and passion to bring art into your space.")],-1)),d($)?(s(),o("div",Wl,h[1]||(h[1]=[Fe('<div class="relative" data-v-7fab170b><div class="animate-spin rounded-full h-20 w-20 border-4 border-gray-200" data-v-7fab170b></div><div class="animate-spin rounded-full h-20 w-20 border-4 border-gray-900 border-t-transparent absolute top-0 left-0" data-v-7fab170b></div><div class="absolute inset-0 flex items-center justify-center" data-v-7fab170b><div class="w-8 h-8 bg-gray-900 rounded-full animate-pulse" data-v-7fab170b></div></div></div>',1)]))):(s(),o("div",Ql,[(s(!0),o(R,null,B(d(H),(j,O)=>(s(),o("div",{key:j._id,class:"product-card group cursor-pointer animate-fade-in-up",style:Ie({animationDelay:`${O*100}ms`}),onMouseenter:U=>Y(O,!0),onMouseleave:U=>Y(O,!1),onClick:U=>l(j._id)},[e("div",Yl,[P(j)?(s(),o("div",Zl,[e("span",Jl,c(P(j)),1)])):m("",!0),e("div",Kl,[e("img",{src:I(j,O),alt:j.name,class:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110",onLoad:U=>ge(O),onError:U=>fe(O)},null,40,en)]),E[O]?(s(),o("div",tn,h[2]||(h[2]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-gray-600"},null,-1)]))):m("",!0),h[3]||(h[3]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500 flex items-end justify-center pb-8"},[e("div",{class:"transform translate-y-4 group-hover:translate-y-0 transition-all duration-500"},[e("span",{class:"text-white text-lg font-medium tracking-wide"},"Quick View"),e("div",{class:"w-16 h-0.5 bg-white mx-auto mt-2 scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})])],-1))]),e("div",sn,[e("h3",on,c((j==null?void 0:j.name)??"Nil"),1),e("p",ln,[ne(" From "+c(N(j))+" ",1),K(j)?(s(),o("span",nn," or "+c(S(j))+"/month ",1)):m("",!0)]),e("div",an,[e("button",{class:"w-full bg-gray-900 text-white py-3 px-6 text-sm rounded-xl font-medium hover:bg-gray-800 transition-all duration-300 hover:scale-105 shadow-lg",onClick:ce(U=>d(Q).push(`/artworks/${j._id}`),["stop"])}," Add to Cart ",8,rn)])])],44,Xl))),128))]))]),J(Nl,{"is-open":T.value,"product-id":f.value,"on-close":r,"on-add-to-cart":g},null,8,["is-open","product-id"])])}}}),pn=_e(dn,[["__scopeId","data-v-7fab170b"]]);export{pn as default};
