import{_ as Z}from"./CHIXgwdX.js";import{e as E,u as G,r as j,f as k,g as O,h as R,c as r,o as a,a as t,i as b,t as l,b as y,w,d as v,j as Y,F as z,k as T,l as g,n as I,T as W,m as J,p as K,_ as X}from"./BwJozHpm.js";import{u as tt}from"./DI0YZq9W.js";import{u as et}from"./C4xZMpqw.js";import{u as st}from"./dKw-Mcfq.js";import{u as ot}from"./DC6vcLwC.js";import"./DyTtD59V.js";const rt={class:"min-h-screen bg-gray-50 mt-16"},at={class:"bg-white shadow-sm sticky top-0 z-40"},lt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},nt={class:"flex items-center justify-between h-16"},it={class:"flex items-center space-x-4"},dt={key:0,class:"relative"},ut={class:"bg-blue-600 text-white text-sm px-3 py-1 rounded-full font-medium animate-pulse"},ct={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},mt={class:"flex items-center space-x-2 text-sm text-gray-500"},vt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8"},gt={key:0,class:"text-center py-16"},pt={class:"space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center"},xt={key:1,class:"lg:grid lg:grid-cols-12 lg:gap-8"},ht={class:"lg:col-span-8"},bt={class:"bg-white rounded-2xl shadow-sm overflow-hidden"},ft={class:"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50"},yt={class:"flex items-center justify-between"},wt={class:"divide-y divide-gray-100"},_t={class:"flex items-start space-x-4"},kt={class:"flex-shrink-0 group"},Ct={class:"w-24 h-24 sm:w-28 sm:h-28 rounded-xl overflow-hidden bg-gray-100 shadow-md group-hover:shadow-lg transition-all duration-300"},jt=["src","alt"],Mt={class:"flex-1 min-w-0"},St={class:"flex items-start justify-between"},Vt={class:"flex-1 min-w-0"},At={class:"text-lg font-semibold text-gray-900 mb-1 truncate"},Bt={class:"text-sm text-gray-600 mb-2"},Ht={class:"font-medium"},zt={class:"text-lg font-bold text-blue-600"},Tt=["onClick"],It={class:"flex items-center justify-between mt-4"},qt={class:"flex items-center"},Pt={class:"flex items-center bg-gray-100 rounded-lg overflow-hidden shadow-sm"},$t=["onClick","disabled"],Ft={class:"px-4 py-2 bg-white border-x border-gray-200 min-w-[60px] text-center"},Lt={class:"font-semibold text-gray-900"},Nt=["onClick"],Dt={class:"text-right"},Qt={class:"text-xl font-bold text-gray-900"},Ut={class:"mt-6"},Zt={class:"lg:col-span-4 mt-8 lg:mt-0"},Et={class:"bg-white rounded-2xl shadow-sm overflow-hidden sticky top-24"},Gt={class:"p-6 space-y-4"},Ot={class:"flex justify-between items-center"},Rt={class:"text-gray-600"},Yt={class:"font-semibold text-gray-900"},Wt={class:"flex justify-between items-center"},Jt={key:0,class:"flex items-center"},Kt={key:1},Xt={key:0,class:"bg-gray-100 rounded-full p-1"},te={class:"text-xs text-gray-600 mt-2 text-center"},ee={class:"flex justify-between items-center text-lg font-bold"},se={class:"text-blue-600"},oe=["disabled"],re={class:"relative z-10 flex items-center justify-center"},ae={key:0,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},le={key:1,class:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"},ne={class:"mt-6 bg-white rounded-2xl shadow-sm overflow-hidden"},ie={class:"p-6"},de={class:"space-y-4"},ue={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"},ce=E({__name:"cart",setup(me){const{products:C}=ot();G();const{cart:_,removeFromCart:q,updateCartItemQuantity:P,clearAllItems:$}=tt(),{initializeCheckout:F}=et(),{initializeUserCurrency:L,convertFromUSD:p}=st(),f=j(!1),x=j(!1),M=j(new Set),i=k(()=>_.value.length),n=k(()=>_.value.reduce((o,e)=>o+e.price*e.quantity,0)),S=k(()=>{const o=n.value>100?0:10;return n.value+o});k(()=>{if(!product.value||!C.value.length)return[];const o=C.value.filter(d=>{var u,c,m,s;return d._id!==((u=product.value)==null?void 0:u._id)&&((c=d.category)==null?void 0:c._id)===((s=(m=product.value)==null?void 0:m.category)==null?void 0:s._id)});if(o.length>=4)return o.slice(0,4);const h=[...C.value.filter(d=>{var u,c,m,s;return d._id!==((u=product.value)==null?void 0:u._id)&&((c=d.category)==null?void 0:c._id)!==((s=(m=product.value)==null?void 0:m.category)==null?void 0:s._id)})].sort(()=>.5-Math.random());return[...o,...h].slice(0,4)});const N=async o=>{M.value.add(o),setTimeout(()=>{q(o),M.value.delete(o)},300)},V=async(o,e)=>{e<1||(f.value=!0,setTimeout(()=>{P(o,e),f.value=!1},300))},D=async()=>{confirm("Are you sure you want to clear all items from your cart?")&&(f.value=!0,setTimeout(()=>{$(),f.value=!1},500))},Q=async()=>{x.value=!0;try{F({items:_.value,subtotal:n.value,shipping:n.value>100?0:10,total:S.value}),await new Promise(o=>setTimeout(o,1e3)),await K("/checkout")}catch(o){console.error("Checkout error:",o)}finally{x.value=!1}};return O(async()=>{await L()}),R(i,(o,e)=>{}),(o,e)=>{var d,u,c,m;const h=Z;return a(),r("div",rt,[t("div",at,[t("div",lt,[t("div",nt,[t("div",it,[t("button",{onClick:e[0]||(e[0]=s=>o.$router.back()),class:"p-2 rounded-full hover:bg-gray-100 transition-all duration-200 hover:scale-110","aria-label":"Go back"},e[1]||(e[1]=[t("svg",{class:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e[2]||(e[2]=t("div",null,[t("h1",{class:"text-xl font-bold text-gray-900"},"Shopping Cart")],-1))]),i.value>0?(a(),r("div",dt,[t("div",ut,l(i.value)+" "+l(i.value===1?"item":"items"),1)])):b("",!0)])])]),t("div",ct,[t("nav",mt,[y(h,{to:"/",class:"hover:text-gray-700 transition-colors"},{default:w(()=>e[3]||(e[3]=[v("Home")])),_:1,__:[3]}),e[4]||(e[4]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),e[5]||(e[5]=t("span",{class:"text-gray-900 font-medium"},"Shopping Cart",-1))])]),t("div",vt,[i.value===0?(a(),r("div",gt,[e[8]||(e[8]=Y('<div class="animate-bounce-slow mb-8" data-v-6ce2bb3e><div class="w-32 h-32 mx-auto text-gray-300 mb-6" data-v-6ce2bb3e><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 256 256" data-v-6ce2bb3e><path d="M216,64H176a48,48,0,0,0-96,0H40A16,16,0,0,0,24,80V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64ZM128,32a32,32,0,0,1,32,32H96A32,32,0,0,1,128,32Zm88,168H40V80H216Z" data-v-6ce2bb3e></path></svg></div></div><h2 class="text-3xl font-bold text-gray-900 mb-4" data-v-6ce2bb3e>Your cart is empty</h2><p class="text-lg text-gray-600 mb-8 max-w-md mx-auto" data-v-6ce2bb3e> Discover amazing artworks and add them to your cart to get started. </p>',3)),t("div",pt,[y(h,{to:"/artworks",class:"inline-flex items-center px-8 py-4 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl"},{default:w(()=>e[6]||(e[6]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),v(" Browse Artworks ")])),_:1,__:[6]}),y(h,{to:"/categories",class:"inline-flex items-center px-8 py-4 bg-white text-gray-700 font-semibold rounded-xl border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 transform hover:scale-105 transition-all duration-300"},{default:w(()=>e[7]||(e[7]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),v(" Explore Categories ")])),_:1,__:[7]})])])):(a(),r("div",xt,[t("div",ht,[t("div",bt,[t("div",ft,[t("div",yt,[e[9]||(e[9]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Cart Items",-1)),i.value>1?(a(),r("button",{key:0,onClick:D,class:"text-sm text-red-600 hover:text-red-700 font-medium transition-colors"}," Clear All ")):b("",!0)])]),t("div",wt,[y(W,{name:"cart-item",tag:"div"},{default:w(()=>[(a(!0),r(z,null,T(g(_),(s,U)=>{var A,B;return a(),r("div",{key:s.id,class:"p-6 hover:bg-gray-50 transition-all duration-300",style:I({transitionDelay:`${U*50}ms`})},[t("div",_t,[t("div",kt,[t("div",Ct,[t("img",{src:s.image,alt:s.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"},null,8,jt)])]),t("div",Mt,[t("div",St,[t("div",Vt,[t("h3",At,l(s.title),1),t("p",Bt,[e[10]||(e[10]=v(" Size: ")),t("span",Ht,l(s.size),1)]),t("p",zt,l((A=g(p)(s.price))==null?void 0:A.formattedAmount),1)]),t("button",{onClick:H=>N(s.id),class:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all duration-200 hover:scale-110","aria-label":"Remove item"},e[11]||(e[11]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Tt)]),t("div",It,[t("div",qt,[e[14]||(e[14]=t("label",{class:"text-sm font-medium text-gray-700 mr-3"},"Qty:",-1)),t("div",Pt,[t("button",{onClick:H=>V(s.id,s.quantity-1),disabled:s.quantity<=1,class:"px-3 py-2 text-gray-600 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105","aria-label":"Decrease quantity"},e[12]||(e[12]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,$t),t("div",Ft,[t("span",Lt,l(s.quantity),1)]),t("button",{onClick:H=>V(s.id,s.quantity+1),class:"px-3 py-2 text-gray-600 hover:bg-gray-200 transition-all duration-200 hover:scale-105","aria-label":"Increase quantity"},e[13]||(e[13]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]),8,Nt)])]),t("div",Dt,[e[15]||(e[15]=t("p",{class:"text-sm text-gray-500"},"Total",-1)),t("p",Qt,l((B=g(p)(s.price*s.quantity))==null?void 0:B.formattedAmount),1)])])])])],4)}),128))]),_:1})])]),t("div",Ut,[y(h,{to:"/artworks",class:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium transition-colors group"},{default:w(()=>e[16]||(e[16]=[t("svg",{class:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),v(" Continue Shopping ")])),_:1,__:[16]})])]),t("div",Zt,[t("div",Et,[e[24]||(e[24]=t("div",{class:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-100"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Order Summary")],-1)),t("div",Gt,[t("div",Ot,[t("span",Rt,"Subtotal ("+l(i.value)+" "+l(i.value===1?"item":"items")+")",1),t("span",Yt,l((d=g(p)(n.value))==null?void 0:d.formattedAmount),1)]),t("div",Wt,[e[18]||(e[18]=t("span",{class:"text-gray-600"},"Shipping",-1)),t("span",{class:J(["font-semibold",n.value>100?"text-green-600":"text-gray-900"])},[n.value>100?(a(),r("span",Jt,e[17]||(e[17]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),v(" Free ")]))):(a(),r("span",Kt,l((u=g(p)(10))==null?void 0:u.formattedAmount),1))],2)]),n.value<=100?(a(),r("div",Xt,[t("div",{class:"bg-blue-600 rounded-full h-2 transition-all duration-500",style:I({width:`${Math.min(n.value/100*100,100)}%`})},null,4),t("p",te," Add "+l((c=g(p)(100-n.value))==null?void 0:c.formattedAmount)+" more for free shipping ",1)])):b("",!0),e[22]||(e[22]=t("hr",{class:"border-gray-200"},null,-1)),t("div",ee,[e[19]||(e[19]=t("span",{class:"text-gray-900"},"Total",-1)),t("span",se,l((m=g(p)(S.value))==null?void 0:m.formattedAmount),1)]),t("button",{onClick:Q,disabled:x.value,class:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 text-sm px-6 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 relative overflow-hidden group"},[e[21]||(e[21]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-700 to-indigo-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),t("span",re,[x.value?b("",!0):(a(),r("svg",ae,e[20]||(e[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"},null,-1)]))),x.value?(a(),r("div",le)):b("",!0),v(" "+l(x.value?"Processing...":"Proceed to Checkout"),1)])],8,oe),e[23]||(e[23]=t("div",{class:"flex items-center justify-center mt-4 text-sm text-gray-500"},[t("svg",{class:"w-4 h-4 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})]),v(" Secure checkout powered by SSL ")],-1))])]),t("div",ne,[e[26]||(e[26]=t("div",{class:"px-6 py-4 border-b border-gray-100"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"You might also like")],-1)),t("div",ie,[t("div",de,[(a(),r(z,null,T(2,s=>t("div",{key:s,class:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer"},e[25]||(e[25]=[t("div",{class:"w-16 h-16 bg-gray-200 rounded-lg animate-pulse"},null,-1),t("div",{class:"flex-1"},[t("div",{class:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),t("div",{class:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})],-1)]))),64))])])])])]))]),f.value?(a(),r("div",ue,e[27]||(e[27]=[t("div",{class:"bg-white rounded-2xl p-8 shadow-2xl"},[t("div",{class:"flex items-center space-x-4"},[t("div",{class:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),t("span",{class:"text-lg font-medium text-gray-900"},"Updating cart...")])],-1)]))):b("",!0)])}}}),ye=X(ce,[["__scopeId","data-v-6ce2bb3e"]]);export{ye as default};
